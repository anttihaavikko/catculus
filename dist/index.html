<html><head><meta charset="utf-8"/><title>Catculus</title><style>body{margin:0;overflow:hidden;background:#000}</style></head><body><script>(()=>{"use strict";var t={t:[{i:[0,255,116,79,0,255,116,0,83,0,4,6,69,52,0,0,0,0,0,0,2,14,0,0,32,0,0,0,0],h:[,3,1,2,1,2,1,2,1,2,3,,3,,3,1,2,3],c:[{n:[147,,,,,,,,,,,,,,,,147,,,,,,,,,,147],f:[]},{n:[147,,,,,,,,,,,,,,,,147,,,,,,,,147,,147,147,,,147],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,147,,147,147,,,147],f:[]}]},{i:[1,221,128,64,0,210,128,0,64,255,4,6,73,79,0,0,0,64,7,1,3,195,15,0,32,20,0,24,6],h:[,3,1,2,1,2,1,2,1,2,3,,3,,3,1,2,3],c:[{n:[,,,,135,,,,,,,,135,,,,,,,,135,,,,,,,,135,,135],f:[]},{n:[,,,,135,,,,,,,,135,,,,,,,,135,,,,,,,,135,135,,135],f:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,135,135,,135],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,81,4,10,47,55,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],h:[1,2,1,2,1,2,1,2,1,1,1,1,2,1,2,1,2,2],c:[{n:[147,,,,,,,,147,,,,,,,,147,,,,147,,,,147,,,,147,,147],f:[]},{n:[147,,,,,,,,147,,,,,,,,147,,,,147],f:[]}]},{i:[1,192,128,0,1,191,116,9,0,0,6,22,34,0,37,0,0,69,3,1,1,23,167,0,32,23,6,25,6],h:[1,1,1,1,1,1,1,1,1,1,2,,1,1,2,1,1,2],c:[{n:[114,,116,,,,116,,,,,,,,118,,114,,116,,,,116,,,,,,,,118],f:[]},{n:[114,,116,,,,116,,,,,,,,118,,114,,116,,,,116],f:[]}]},{i:[1,192,128,0,1,191,116,9,0,0,6,22,34,0,0,5,0,69,3,1,1,23,167,0,32,77,6,25,6],h:[,,4,4,1,1,2,3,2,3,,,,,,2,3,4],c:[{n:[140,,140,,,,145,,,,140,,147,,,,,,147,,147,,147,,150,,150,,147],f:[]},{n:[140,,,140,140,,147,,148,,150,,147,,152,,,,152,,152,,155,,157,157,155,,152,,150,150],f:[]},{n:[140,,,,140,,147,,150,,150,,147,,152,,,152,152,,152,,143,,145,,135,,138,,135,135],f:[]},{n:[140,,,,,,145,,,,140,,147,,,,,,,,,,147,,150,,150,,147],f:[]}]},{i:[1,84,123,0,1,85,116,9,0,0,6,22,34,0,53,0,1,69,3,1,1,2,57,0,32,29,7,56,6],h:[,,,,,,,,,,,3,2,1,2],c:[{n:[140,,138,,142,,138,,,,138,,143,,138,,147,143,140,,140,,143,140,147,,140,,140,,145,147],f:[]},{n:[143,,,,150,,,,143,,145,,143,,147,,150,145,147,,142,,147,,147,,142,,138],f:[]},{n:[140,,,,142,,,,,,,,143,,,,147,,,,140,,,,147,,,,140,,147],f:[]}]}],o:5513,u:32,v:17,l:6},i=function(){var t,i,n,s,r,h=function(t){return Math.sin(6.283184*t)},o=function(t){return.003959503758*Math.pow(2,(t-128)/12)},u=function(t,i,n){var s,r,h,u,e,c,a=f[t.i[0]],v=t.i[1],l=t.i[3]/32,d=f[t.i[4]],w=t.i[5],y=t.i[8]/32,x=t.i[9],M=t.i[10]*t.i[10]*4,p=t.i[11]*t.i[11]*4,O=t.i[12]*t.i[12]*4,b=1/O,_=-t.i[13]/16,T=t.i[14],m=(Math.pow(2,2-t.i[15]),new Int32Array(M+p+O)),j=0,A=0;for(s=0,r=0;s<M+p+O;s++,r++)r>=0&&(e=o(i+(15&T)+t.i[2]-128),c=o(i+(15&T)+t.i[6]-128)*(1+8e-4*t.i[7])),h=1,s<M?h=s/M:s>=M+p&&(h=(1-(h=(s-M-p)*b))*Math.pow(3,_*h)),u=a(j+=e*Math.pow(h,l))*v,u+=d(A+=c*Math.pow(h,y))*w,x&&(u+=(2*Math.random()-1)*x),m[s]=80*u*h|0;return m},f=[h,function(t){return t%1<.5?1:-1},function(t){return t%1*2-1},function(t){var i=t%1*4;return i<2?i-1:3-i}];this.init=function(h){t=h,i=h.v,n=0,s=h.o*h.u*(i+1)*2,r=new Int32Array(s)},this.M=function(){var o,e,c,a,v,l,d,w,y,x,M,p,O,b,_=new Int32Array(s),T=t.t[n],m=t.o,j=t.u,A=0,E=0,g=!1,S=[];for(c=0;c<=i;++c)for(d=T.h[c],a=0;a<j;++a){var C=f[T.i[16]],R=T.i[17]/512,L=Math.pow(2,T.i[18]-9)/m,F=T.i[19],B=T.i[20],I=43.23529*T.i[21]*3.141592/44100,U=1-T.i[22]/255,W=1e-5*T.i[23],P=T.i[24]/32,k=T.i[25]/512,D=6.283184*Math.pow(2,T.i[26]-9)/m,H=T.i[27]/255,N=T.i[28]*m&-2;for(M=(c*j+a)*m,v=0;v<4;++v)if(l=d?T.c[d-1].n[a+v*j]:0){S[l]||(S[l]=u(T,l,m));var Y=S[l];for(e=0,o=2*M;e<Y.length;e++,o+=2)_[o]+=Y[e]}for(e=0;e<m;e++)(x=_[w=2*(M+e)])||g?(p=I,F&&(p*=C(L*w)*R+.5),E+=(p=1.5*Math.sin(p))*(O=U*(x-E)-(A+=p*E)),x=3==B?E:1==B?O:A,W&&(x=(x*=W)<1?x>-1?h(.25*x):-1:1,x/=W),g=(x*=P)*x>1e-5,b=x*(1-(y=Math.sin(D*w)*k+.5)),x*=y):b=0,w>=N&&(b+=_[w-N+1]*H,x+=_[w-N]*H),_[w]=0|b,_[w+1]=0|x,r[w]+=0|b,r[w+1]+=0|x}return++n/t.l},this.p=function(t){for(var i=t.createBuffer(2,s/2,44100),n=0;n<2;n++)for(var h=i.getChannelData(n),o=n;o<s;o+=2)h[o>>1]=r[o]/65536;return i},this.O=function(){var t=44+2*s-8,i=t-36,n=new Uint8Array(44+2*s);n.set([82,73,70,70,255&t,t>>8&255,t>>16&255,t>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&i,i>>8&255,i>>16&255,i>>24&255]);for(var h=0,o=44;h<s;++h){var u=r[h];u=u<-32767?-32767:u>32767?32767:u,n[o++]=255&u,n[o++]=u>>8&255}return n},this.getData=function(t,i){for(var n=2*Math.floor(44100*t),s=new Array(i),h=0;h<2*i;h+=1){var o=n+h;s[h]=t>0&&o<r.length?r[o]/32768:0}return s}},n=function(){return window.__TAURI__};function s(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return o.play.apply(o,t)}var r,h,o={volume:.3,sampleRate:44100,x:new AudioContext,play:function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return this._(this.T.apply(this,t))},_:function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=this.x.createBuffer(t.length,t[0].length,this.sampleRate),s=this.x.createBufferSource();return t.map((function(t,i){return n.getChannelData(i).set(t)})),s.buffer=n,s.connect(this.x.destination),s.start(),s},T:function(t,i,n,s,r,h,o,u,f,e,c,a,v,l,d,w,y,x,M,p){void 0===t&&(t=1),void 0===i&&(i=.05),void 0===n&&(n=220),void 0===s&&(s=0),void 0===r&&(r=0),void 0===h&&(h=.1),void 0===o&&(o=0),void 0===u&&(u=1),void 0===f&&(f=0),void 0===e&&(e=0),void 0===c&&(c=0),void 0===a&&(a=0),void 0===v&&(v=0),void 0===l&&(l=0),void 0===d&&(d=0),void 0===w&&(w=0),void 0===y&&(y=0),void 0===x&&(x=1),void 0===M&&(M=0),void 0===p&&(p=0);var O,b,_=2*Math.PI,T=this.sampleRate,m=f*=500*_/T/T,j=n*=(1+2*i*Math.random()-i)*_/T,A=[],E=0,g=0,S=0,C=1,R=0,L=0,F=0;for(s=s*T+9,M*=T,r*=T,h*=T,y*=T,e*=500*_/Math.pow(T,3),d*=_/T,c*=_/T,a*=T,v=v*T|0,b=s+M+r+h+y|0;S<b;A[S++]=F)++L%(100*w|0)||(F=o?o>1?o>2?o>3?Math.sin(Math.pow(E%_,3)):Math.max(Math.min(Math.tan(E),1),-1):1-(2*E/_%2+2)%2:1-4*Math.abs(Math.round(E/_)-E/_):Math.sin(E),F=(v?1-p+p*Math.sin(_*S/v):1)*(F>0?1:-1)*Math.pow(Math.abs(F),u)*t*this.volume*(S<s?S/s:S<s+M?1-(S-s)/M*(1-x):S<s+M+r?x:S<b-y?(b-S-y)/h*x:0),F=y?F/2+(y>S?0:(S<b-y?1:(b-S)/y)*A[S-y|0]/2):F),E+=(O=(n+=f+=e)*Math.cos(d*g++))-O*l*(1-1e9*(Math.sin(S)+1)%2),C&&++C>a&&(n+=c,j+=c,C=0),!v||++R%v||(n=j,f=m,C||(C=1));return A}},u=function(){function r(){this.m=!1,this.j=.5,this.A=.5,this.g=document.createElement("audio"),document.body.appendChild(this.g)}return r.prototype.S=function(){var s=this;if(!this.m&&!n()&&(this.m=!0,t)){var r=new i;r.init(t),r.M(),this.loaded=!1;var h=setInterval((function(){if(!s.loaded&&(s.loaded=r.M()>=1,s.loaded)){var t=r.O();s.g.src=URL.createObjectURL(new Blob([t],{type:"audio/wav"})),s.g.loop=!0,s.g.volume=s.A,s.g.C=!1,clearInterval(h)}}),5)}},r.prototype.R=function(){return this.g.playbackRate},r.prototype.L=function(t){t<.1?this.g.volume=0:this.g.playbackRate=t},r.prototype.F=function(){var t=this,i=setInterval((function(){t.loaded&&(t.g.play(),clearInterval(i))}),5);this.g.addEventListener("timeupdate",(function(){t.g.currentTime>t.g.duration-.21&&(t.g.currentTime=0,t.g.play())}))},r.prototype.play=function(t){var i=this;s.apply(void 0,t.map((function(t,n){return 0===n?.6*(null!=t?t:1)*i.j:t})))},r.prototype.button=function(){this.play([2.5,,372,.02,.01,.002,2,4.8,-42,-11,8,.6,,.9,,,.03,.76,.02,.24,-1500])},r.prototype.B=function(){},r.prototype.select=function(){},r.prototype.I=function(){this.play([.8,,136,.04,.09,.07,1,3.6,,-32,,,,.5,,,,.88,.06])},r.prototype.U=function(){this.play([.7,,353,.03,.03,.15,,2.7,7,54,,,,,,.1,,.62,,,-1065]),this.play([.2,,435,.01,.07,,,2.1,24,,,,,,,.1,,.82,.04,,-1498])},r.prototype.W=function(){this.play([1.5,,54,,.03,.01,3,.8,,-42,,,,,,,,.71,.02,,-951]),this.play([.6,,170,.01,.03,.04,2,4.5,,,,,,,,,,.95,.03,,-1443])},r.prototype.P=function(t){var i=Math.ceil(t/7);this.play([,,[220,246.9417,261.6256,293.6648,329.6276,349.2282,391.9954][t%7]*i,.02,.01,.07,1,.4,,,368,.05,,.3,,,,.7,.02])},r.prototype.done=function(){this.play([2,,650,.01,.28,.4,1,3.9,,,209,.07,.08,,,,,.73,.24,.48,-520]),this.play([,,380,.04,.21,.12,,3.5,,,,,.02,,4.6,,,.72,.19,.48])},r.prototype.k=function(){this.play([3,,498,.04,.24,.32,,2.9,,8,-76,.06,.1,,3.3,,,.88,.14,.43]),this.play([5,,48,.05,.09,.69,1,2.7,6,,,,.19,1.2,47,.6,.43,.46,.18,.34])},r.prototype.D=function(){this.play([.9,,443,.1,.18,.29,1,1.7,,,,,.09,,3.3,.1,,.72,.18,,172])},r.prototype.H=function(){this.play([.8,,347,.09,.13,.14,,3.9,-1,,-154,.1,.06,,,,,.66,.2,.35,-1312]),this.play([.8,,431,.01,.03,.04,1,1.4,61,,,,.03,,,,,.59,.03,.28,-1229])},r.prototype.N=function(){this.play([,,614,.01,.24,.21,1,.4,,,-132,.08,.08,,,.2,,.55,.11]),this.play([2,,52,.04,.29,.46,4,3.2,1,,,,,1.6,11,.3,,.38,.17,,1135])},r.prototype.Y=function(){this.play([.3,,390,.03,.2,.11,,.1,50,-91,410,.11,.07,.1,.8]),this.play([5,,311,,,.006,1,.6,,,,,.05,,1.1,,.47,.55,.38,.08,728])},r}(),f=function(t){return function(t,i,n){return Math.min(Math.max(t,i),n)}(t,0,1)},e=function(t,i,n){return t+(i>t?Math.min(i-t,n):Math.max(i-t,-n))},c=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},a={x:0,y:0},v=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},l=function(t,i,n){return{x:t.x+i,y:t.y+n}},d=function(t){return t<.5?2*t*t:-2*t*t+4*t-1},w=function(){function t(t){this.G=t,this.time=0,this.type="none",this.V=function(t){return(i=t)<4/11?121*i*i/16:i<8/11?9.075*i*i-9.9*i+3.4:i<.9?4356/361*i*i-35442/1805*i+16061/1805:10.8*i*i-20.52*i+10.72;var i}}return t.prototype.isActive=function(){return this.active},t.prototype.scale=function(t,i){this.type="scale";var n=this.G.scale;this.start={x:n.x,y:n.y},this.q(t,i)},t.prototype.move=function(t,i){this.type="move";var n=this.G.h;this.start={x:n.x,y:n.y},this.q(t,i)},t.prototype.K=function(t){this.V=t},t.prototype.q=function(t,i){this.target=t,this.duration=1e3*i,this.active=!0,this.startTime=-1},t.prototype.stop=function(){this.type,this.active=!1},t.prototype.update=function(t){if(this.startTime<0||"none"==this.type)this.startTime=t;else if(this.active&&(this.time=f((t-this.startTime)/this.duration),this.start&&this.target)){var i,n,s,r,h=(i=this.start,n=this.target,s=this.time,void 0===(r=this.V)&&(r=function(t){return t}),{x:i.x+r(s)*(n.x-i.x),y:i.y+r(s)*(n.y-i.y)});"move"==this.type&&(this.G.h={x:h.x,y:h.y}),"scale"==this.type&&(this.G.scale={x:h.x,y:h.y}),this.active=this.time<1}},t.X=function(t,i){void 0===i&&(i=1e3);for(var n=function(n){setTimeout((function(){return t(n)}),n*i)},s=0;s<1;s+=.01)n(s)},t}(),y=function(){function t(t,i,n,s,r){this.J=t,this.scale={x:1,y:1},this.d=0,this.rotation=0,this.Z=0,this.$=0,this.tt=0,this.it=0,this.nt=.005,this.delta=0,this.h={x:i,y:n},this.s={x:s,y:r},this.st=new w(this),this.Z=Math.random()}return t.prototype.update=function(t,i){this.delta=t-this.$,this.$=t,this.st.update(t),this.tt=Math.sin(t*this.nt+this.Z),this.it=Math.abs(this.tt)},t.prototype.rt=function(t){},t.prototype.ht=function(){return{x:this.h.x+.5*this.s.x,y:this.h.y+.5*this.s.y}},t.prototype.setPosition=function(t,i){this.h={x:t,y:i}},t.prototype.ot=function(t,i){void 0===i&&(i=0);var n=this.ht();return t.x>n.x-.5*this.s.x*this.scale.x-.5*i&&t.x<n.x+.5*this.s.x*this.scale.x+.5*i&&t.y>n.y-.5*this.s.y*this.scale.y-.5*i&&t.y<n.y+.5*this.s.y*this.scale.y+.5*i},t.prototype.ut=function(t){t.save(),t.translate(this.h.x,this.h.y),this.rt(t),t.restore()},t}(),x=(r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},r(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}r(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),M=function(t){function i(i,n){void 0===n&&(n=0);var s=t.call(this,i,0,0,0,0)||this;return s.d=500,setTimeout((function(){return s.open()}),n),s}return x(i,t),i.prototype.open=function(t){void 0===t&&(t=function(){}),this.st.scale({x:0,y:0},.5),setTimeout(t,500)},i.prototype.close=function(t){void 0===t&&(t=function(){}),this.st.scale({x:1,y:1},.4),setTimeout(t,500)},i.prototype.rt=function(t){t.fillStyle="#000";var i=window.innerHeight>window.innerWidth?400:800;t.fillRect(0,0,.55*i*this.scale.x,800),t.fillRect(i-.55*i*this.scale.x,0,i*this.scale.x,800)},i}(y),p=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=1),t+Math.random()*(i-t)},O=function(t){return t[Math.floor(Math.random()*t.length)]},b=function(){return Math.random()<.5?1:-1},_=function(){function t(){this.offset=a,this.pan=a,this.shift=0,this.ft=0,this.et=0}return t.prototype.ct=function(t,i,n){var s=this;void 0===n&&(n=0),this.ft=t,this.et=n/360*Math.PI,clearTimeout(this.vt),this.vt=setTimeout((function(){return s.reset()}),1e3*i)},t.prototype.update=function(){this.offset={x:p(-this.ft,this.ft),y:p(-this.ft,this.ft)},this.rotation=p(-this.et,this.et)},t.prototype.reset=function(){this.ft=0,this.et=0},t}(),T=function(){function t(t){this.g=t,this.value=this.target=this.g.R();var i=navigator.userAgent.toLowerCase();this.disabled=["iphone","ipad"].some((function(t){return i.includes(t)}))||i.includes("macintosh")&&navigator.maxTouchPoints>0}return t.prototype.update=function(t){if(!this.disabled){var i=this.target-this.value;Math.abs(i)<.01||(this.value+=1e-4*Math.sign(i)*t*this.speed,this.g.L(this.value))}},t.prototype.lt=function(t,i){void 0===i&&(i=1),this.speed=i,this.value=t},t.prototype.dt=function(t,i){void 0===i&&(i=1),this.speed=i,this.target=t},t}(),m=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),j=function(){return j=Object.assign||function(t){for(var i,n=1,s=arguments.length;n<s;n++)for(var r in i=arguments[n])Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t},j.apply(this,arguments)},A=function(t){function i(i,n){var s=t.call(this,null,0,0,0,0)||this;return s.g=i,s.canvas=n,s.wt=new _,s.yt=[],s.xt=[],s.Mt=new T(i),s.Ot=new M(s,400),s}return m(i,t),i.prototype.click=function(t){var i;this.bt=!1,null===(i=this._t)||void 0===i||i.Tt().forEach((function(i){i.visible&&i.ot(t)&&i.jt(!1)}))},i.prototype.At=function(t){this.yt.push(t)},i.prototype.Et=function(t){this.xt.push(t)},i.prototype.gt=function(){this.yt=[],this.xt=[]},i.prototype.pressed=function(t){t.repeat||this.yt.forEach((function(i){return i(t)}))},i.prototype.St=function(t){this.xt.forEach((function(i){return i(t)}))},i.prototype.Ct=function(){return this.Rt},i.prototype.update=function(i,n){var s;t.prototype.update.call(this,i,n),null===(s=this._t)||void 0===s||s.update(i,n),this.wt.update(),this.Ot.update(i,n),this.Mt.update(this.delta),n.Lt=!1,this.Rt=j({},n)},i.prototype.rt=function(t){var i,n;t.fillStyle=null===(i=this._t)||void 0===i?void 0:i.Ft(),t.fillRect(0,0,800,600),t.save(),t.rotate(this.wt.rotation),t.scale(this.wt.zoom,this.wt.zoom),t.translate(this.wt.offset.x-this.wt.pan.x+this.wt.shift,this.wt.offset.y+this.wt.pan.y),null===(n=this._t)||void 0===n||n.rt(t),t.restore(),this.Ot.rt(t)},i.prototype.Bt=function(t){var i=this;this.Ot.close((function(){var n;null===(n=i._t)||void 0===n||n.end(),i._t=t,t.It(window.innerHeight>window.innerWidth),i.Ot.open()}))},i.prototype.Ut=function(){return this.Ot},i}(y),E=function(t,i,n,s,r,h){t.beginPath(),r&&(t.fillStyle=r),t.ellipse(i.x,i.y,n,s,0,0,2*Math.PI),t.fill(),h&&(t.strokeStyle=h,t.stroke())},g=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),S=function(t){function i(i,n,s,r){var h=t.call(this,i,n,s,r,r)||this;return h.Wt=1,h.Pt=1,h.color="#fff",h}return g(i,t),i.prototype.update=function(i,n){t.prototype.update.call(this,i,n),this.Wt=e(this.Wt,this.Pt,.075)},i.prototype.kt=function(){return this.color},i.prototype.setColor=function(t){this.color=t},i.prototype.Dt=function(t){this.s={x:t,y:t}},i.prototype.rt=function(t,i){var n=t.globalCompositeOperation;t.globalCompositeOperation="source-over",t.fillStyle=this.color,i||E(t,this.h,this.s.x*Math.min(1.1,1/this.Wt),this.s.y*this.Wt,this.color),i&&function(t,i,n,s,r){t.fillRect(i-.5*s,n-.5*r,s,r)}(t,this.h.x,this.h.y+6,20,7),t.globalCompositeOperation=n},i.prototype.blink=function(t){var i=this;clearTimeout(this.vt),this.Pt=0,this.vt=setTimeout((function(){return i.open()}),t)},i.prototype.open=function(){this.Pt=1},i}(y),C=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),R=function(){return R=Object.assign||function(t){for(var i,n=1,s=arguments.length;n<s;n++)for(var r in i=arguments[n])Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t},R.apply(this,arguments)},L={Ht:"#FE6847",Nt:10,width:1,Yt:150,Gt:200,Vt:1.3,qt:1,zt:7,Kt:0,color:"#fff",Xt:"#fff"},F=function(t){function i(i,n){var s=t.call(this,i,0,0,0,0)||this;return s.Wt=0,s.Pt=0,s.Jt=1,s.options=R({},L),s.Qt(n),s.blink(s.options.Gt,s.options.Yt),s.left=new S(i,-30*s.options.width,5,s.options.Nt),s.right=new S(i,30*s.options.width,5,s.options.Nt),s}return C(i,t),i.prototype.Zt=function(){return this.options},i.prototype.Qt=function(t){var i,n;this.options=R(R({},this.options),t),null===(i=this.left)||void 0===i||i.setColor(t.color),null===(n=this.right)||void 0===n||n.setColor(t.color)},i.prototype.blink=function(t,i){var n=this;this.options.$t||(setTimeout((function(){return n.ti(n.left,t,i)}),p(0,i)),setTimeout((function(){return n.ti(n.right,t,i)}),p(0,i)),setTimeout((function(){return n.blink(t,i)}),p(1e3,4e3)))},i.prototype.ti=function(t,i,n){this.options.$t||(t.blink(i),p(0,n))},i.prototype.update=function(i,n){t.prototype.update.call(this,i,n),this.Wt=e(this.Wt,this.Pt,.1),this.left.update(i,n),this.right.update(i,n),Math.random()<.002&&(this.Jt*=-1)},i.prototype.ii=function(t){this.left.Dt(t),this.right.Dt(t)},i.prototype.ni=function(t){this.left.setColor(t),this.right.setColor(t)},i.prototype.si=function(){return this.left.kt()},i.prototype.rt=function(t,i){void 0===i&&(i=!0),E(t,{x:-65*this.options.width-this.options.Kt,y:20},15*this.options.Vt,10*this.options.Vt,this.options.Ht),E(t,{x:65*this.options.width+this.options.Kt,y:20},15*this.options.Vt,10*this.options.Vt,this.options.Ht),t.fillStyle="#000",this.left.rt(t,this.ri),this.right.rt(t,this.ri),t.lineCap="round",t.lineJoin="round",t.lineWidth=this.options.zt,t.strokeStyle=this.options.color,t.fillStyle=this.options.color,this.hi&&i&&(t.beginPath(),t.moveTo(-50*this.options.width+10,-5),t.lineTo(-50*this.options.width-20,-20),t.stroke(),t.beginPath(),t.moveTo(50*this.options.width-10,-5),t.lineTo(50*this.options.width+20,-20),t.stroke()),t.save(),t.scale(this.Jt,1),t.beginPath(),t.strokeStyle=this.options.Xt;var n=this.options.width*this.options.qt,s=this.hi?-30:0;if(this.options.oi){var r=30;t.save(),t.translate(0,5),t.lineWidth=.01*this.options.zt,t.beginPath(),t.moveTo(-40*n,r),t.quadraticCurveTo(-10,40+10*n,0,15),t.quadraticCurveTo(10,40+10*n,40*n,r),t.restore()}else{r=20;t.moveTo(-40*n,r),t.quadraticCurveTo(0,40-60*n*this.Wt+s,40*n,20),t.quadraticCurveTo(0,40+60*n*this.Wt+s,-40*n,r)}t.stroke(),t.fill(),t.restore()},i.prototype.ui=function(t,i){var n=this;clearTimeout(this.fi),this.Pt=t,this.fi=setTimeout((function(){return n.ei()}),1e3*i)},i.prototype.ei=function(){this.Pt=0},i.prototype.setColor=function(t){this.options.color=t,this.left.setColor(t),this.right.setColor(t)},i.prototype.ci=function(t){this.options.Ht=t},i}(y),B=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),I=[{x:900,y:320},{x:700,y:320},{x:500,y:300},{x:400,y:220}],U=[{x:500,y:200},{x:350,y:250},{x:300,y:300},{x:200,y:380}],W=function(t){function i(i,n,s){var r=t.call(this,i,n,s,0,0)||this;return r.ai=1,r.nt=.003,r.face=new F(i,{width:.8,oi:!0}),r.d=100,r.st.K(d),r.nt*=p(.8,1.2),r}return B(i,t),i.prototype.update=function(i,n){t.prototype.update.call(this,i,n),this.ai=f(this.ai+(this.ri?-1:1)*this.delta*.01),this.ri||this.face.update(i,n)},i.prototype.vi=function(t){void 0===t&&(t=!0),this.ri=t,this.face.ri=t},i.prototype.rt=function(t){var i=this;t.save(),t.translate(this.h.x,this.h.y),E(t,{x:0,y:1},17,5,"#00000055"),t.strokeStyle="#000",t.lineCap="round";var n=this.ri?0:this.tt,s=this.ri?this.tt:0;t.scale(1-.1*s,1+.1*s);var r,h=(r=Math.sin(this.st.time*Math.PI))*r;t.translate(0,-40*h);var o=function(n,s){t.lineWidth=2,t.beginPath(),t.moveTo(n,-3-6*i.it),t.quadraticCurveTo(1.4*n,-2-3*i.it,n,1+s),t.stroke()};this.ri||(o(10,0),o(-10,0),o(6,1),o(-6,1)),t.lineWidth=20,t.beginPath(),t.translate(0,-7-3*Math.abs(n)-5*h-3*this.ai),t.moveTo(-5,0),t.lineTo(5,0),t.stroke(),t.translate(2*n,0),t.lineWidth=5,t.moveTo(0,0),t.quadraticCurveTo(25*-this.tt,-5,12*-n,-20-5*this.it),this.ri||t.stroke();var u=function(i){t.fillStyle="#000",t.beginPath(),t.moveTo(7*i,-15),t.lineTo(5*i-5,0),t.lineTo(5*i+5,0),t.fill()};u(-1),u(1),t.translate(0,-2-n-3*h-2*s),t.scale(.13,.13),this.face.rt(t,!1),t.restore()},i.prototype.li=function(t){var i=this;this.ri&&this.J.g.Y(),this.vi(!1),this.di=!0,this.st.move(t,.4),this.J.g.U(),setTimeout((function(){return i.J.g.I()}),400)},i.prototype.wi=function(){return!this.ri},i}(y),P="#57B8FF",k="#2176AE",D="#FE6847",H="#FBB13C",N="#0D2E45",Y=function(t){t.fillStyle=P,t.fillRect(-100,-100,t.canvas.width+200,t.canvas.height+200),t.strokeStyle=k,t.setLineDash([0,53]),t.lineDashOffset=5,t.lineWidth=60,t.lineCap="round";var i=window.innerHeight>window.innerWidth,n=i?400:800,s=i?800:400,r=function(i,s){t.beginPath(),t.moveTo(-100,s),t.quadraticCurveTo(n/2,i,n+100,s),t.stroke()};r(s+20,s-20),r(0,80),r(0,45),r(0,10),t.setLineDash([])},G=[[" ","Enter"],["e"],["r"],["f"],["WheelDown"],["WheelUp"],["Home"],["End","Backspace"],["Tab"],["Escape"],["ls"],["rs"],["1","ArrowUp"],["3","ArrowDown"],["4","ArrowLeft"],["2","ArrowRight"],["HomeButton"]],V=function(){function t(){this.yi={},this.x=0,this.y=0}return t.prototype.xi=function(t){"w"===t&&(this.y=-1),"s"===t&&(this.y=1),"a"===t&&(this.x=-1),"d"===t&&(this.x=1),this.yi[t]=!0},t.prototype.release=function(t){"w"!==t&&"s"!==t||(this.y=0),"a"!==t&&"d"!==t||(this.x=0),this.yi[t]=!1},t.prototype.get=function(t){var i=this;return G[t].some((function(t){return i.yi[t]}))},t.prototype.Mi=function(){var t=this;return{buttons:G.map((function(i){return{pressed:i.some((function(i){return t.yi[i]}))}})),axes:[this.x,this.y]}},t}(),q=function(t,i,n){if(n||2===arguments.length)for(var s,r=0,h=i.length;r<h;r++)!s&&r in i||(s||(s=Array.prototype.slice.call(i,0,r)),s[r]=i[r]);return t.concat(s||Array.prototype.slice.call(i))};!function(){function t(){this.pi=new V,this.Oi=[],this.bi=[]}t.prototype.update=function(){this.bi=q([],this.Oi,!0),this.Oi=this._i().map((function(t){return null==t?void 0:t.buttons.map((function(t){return t.pressed||t.touched}))}))},t.prototype.isConnected=function(){return this._i().some((function(t){return t}))},t.prototype.lock=function(){var t=this;this.locked=!0,setTimeout((function(){return t.locked=!1}),100)},t.prototype.Ti=function(t){var i=this;return!this.locked&&0!==this.Oi.length&&!this.Oi.every((function(t){return!t||0===t.length}))&&this.Oi.some((function(n,s){return n&&n[t]&&(!i.bi[s]||!i.bi[s][t])}))},t.prototype.mi=function(){var t=this;return this._i().reduce((function(i,n,s){return i+t.ji(n,s)}),0)},t.prototype.Ai=function(){var t=this;return this._i().reduce((function(i,n,s){return i+t.Ei(n,s)}),0)},t.prototype._i=function(){return q(q([],navigator.getGamepads(),!0),[this.pi.Mi()],!1)},t.prototype.gi=function(t,i,n){return!(!t||!t.buttons[n])&&(t.buttons[n].pressed&&(!this.bi[i]||!this.bi[i][n]))},t.prototype.Ei=function(t,i){var n=this;if(!t||this.Si)return 0;var s=(this.gi(t,i,h.Ci)?-1:0)+(this.gi(t,i,h.Ri)?1:0)-t.axes[1];return Math.abs(t.axes[1])>.5&&(this.Si=!0,setTimeout((function(){return n.Si=!1}),250)),s},t.prototype.ji=function(t,i){var n=this;if(!t||this.Si)return 0;var s=(this.gi(t,i,h.Li)?-1:0)+(this.gi(t,i,h.Fi)?1:0)+t.axes[0];return Math.abs(t.axes[0])>.5&&(this.Si=!0,setTimeout((function(){return n.Si=!1}),250)),s}}();!function(t){t[t.NONE=-1]="NONE",t[t.Bi=0]="A",t[t.Ii=1]="B",t[t.Ui=2]="X",t[t.Wi=3]="Y",t[t.Pi=4]="LB",t[t.ki=5]="RB",t[t.Di=6]="LT",t[t.Hi=7]="RT",t[t.SELECT=8]="SELECT",t[t.Ni=9]="START",t[t.Yi=10]="LS",t[t.Gi=11]="RS",t[t.Ri=12]="UP",t[t.Ci=13]="DOWN",t[t.Li=14]="LEFT",t[t.Fi=15]="RIGHT",t[t.Vi=16]="HOME"}(h||(h={}));var z="Arial Black,HelveticaNeue-CondensedBlack,arial,sans-serif",K=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),X=function(t){function i(i,n,s,r,o,u,f,e,c){void 0===c&&(c=30);var a=t.call(this,i,s-.5*o,r-.5*u,o,u)||this;return a.content=n,a.qi=f,a.g=e,a.fontSize=c,a.visible=!0,a.button=h.NONE,a.zi=5,a.Ki={x:0,y:0},a.Xi="#000",a.Ji=7,a.nt=.0025,a}return K(i,t),i.prototype.Qi=function(t){this.Ki=t},i.prototype.Zi=function(t){this.zi=t},i.prototype.jt=function(t){this.g.button(),this.qi(t)},i.prototype.$i=function(){this.tn=!0},i.prototype.nn=function(t){this.button=t},i.prototype.sn=function(t){this.Ji=t},i.prototype.rn=function(t){this.content=t},i.prototype.hn=function(){return this.content},i.prototype.ht=function(){return{x:this.h.x+.5*this.s.x+this.Ki.x,y:this.h.y+.5*this.s.y+this.Ki.y}},i.prototype.update=function(i,n){if(this.visible){var s=this.on;this.on=!n.un&&this.ot(n)&&!this.J.bt,!s&&this.on&&this.fn(),n.Lt||(this.pressed&&!n.un&&this.on,this.pressed=!1),t.prototype.update.call(this,i,n),!this.on||!n.Lt||this.pressed||n.un||(this.pressed=!0)}},i.prototype.rt=function(t){if(this.visible){t.save(),t.translate(0,this.on?-this.zi:0+3*this.it),this.tn||(t.fillStyle="#000",t.fillRect(this.h.x,this.h.y,this.s.x,this.s.y),t.fillStyle=this.on?"#FE6847":"#fff",t.fillRect(this.h.x+this.Ji,this.h.y+this.Ji,this.s.x-2*this.Ji,this.s.y-2*this.Ji));var i=this.button!==h.NONE;t.font="".concat(this.fontSize,"px ").concat(z),t.textBaseline="alphabetic",t.textAlign="center",t.fillStyle=this.tn?"#fff":this.Xi,t.strokeStyle="#000",t.lineWidth=6,this.strokeText&&t.strokeText(this.content,this.h.x+.5*this.s.x+(i?10:0),this.h.y+.5*this.s.y+.3*this.fontSize),t.fillText(this.content,this.h.x+.5*this.s.x+(i?10:0),this.h.y+.5*this.s.y+.3*this.fontSize),t.restore()}},i.prototype.fn=function(){this.g.B()},i}(y),J=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),Q=function(t,i,n){if(n||2===arguments.length)for(var s,r=0,h=i.length;r<h;r++)!s&&r in i||(s||(s=Array.prototype.slice.call(i,0,r)),s[r]=i[r]);return t.concat(s||Array.prototype.slice.call(i))},Z=function(t){function i(i,n,s,r){var h;void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r=[]);var o=t.call(this,i,n,s,0,0)||this;return o.children=[],(h=o.children).push.apply(h,r),o}return J(i,t),i.prototype.It=function(t){},i.prototype.Ft=function(){return"#ccc"},i.prototype.update=function(i,n){t.prototype.update.call(this,i,n),this.children.forEach((function(t){return t.update(i,n)})),this.children.some((function(t){return t.en}))&&(this.children=this.children.filter((function(t){return!t.en})))},i.prototype.hide=function(t){void 0===t&&(t=.3),this.st.scale({x:0,y:0},t)},i.prototype.show=function(t){void 0===t&&(t=.3),this.st.scale({x:1,y:1},t)},i.prototype.rt=function(t){t.save(),Q([],this.children,!0).sort((function(t,i){return t.d-i.d})).forEach((function(i){return i.rt(t)})),t.restore()},i.prototype.cn=function(t){return this.children[t]},i.prototype.an=function(){return this.children},i.prototype.add=function(){for(var t,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];(t=this.children).push.apply(t,i)},i.prototype.clear=function(){this.children=[]},i.prototype.Tt=function(){return[]},i.prototype.end=function(){},i}(y),$=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),tt=function(t){function i(i,n,s,r,h,o,u){var f=t.call(this,i,n,s,r,h)||this;return f.vn=o,f.ln=u,f.ratio=1,f.start=-1,f}return $(i,t),i.prototype.update=function(t,i){this.en||this.vn<0||(this.h={x:this.h.x+this.ln.x,y:this.h.y+this.ln.y},this.ratio=1-(t-this.start)/(1e3*this.vn),this.start<0&&(this.start=t),t-this.start>1e3*this.vn&&(this.en=!0))},i}(y),it=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),nt=function(){return nt=Object.assign||function(t){for(var i,n=1,s=arguments.length;n<s;n++)for(var r in i=arguments[n])Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t},nt.apply(this,arguments)},st=function(t){function i(i,n,s,r,h,o,u,f){var e=t.call(this,i,r,h,0,0,o,u)||this;return e.content=n,e.fontSize=s,e.options=f,e}return it(i,t),i.prototype.rt=function(t){var i,n,s,r,h,o,u,f;t.save(),t.rotate(null!==(n=null===(i=this.options)||void 0===i?void 0:i.angle)&&void 0!==n?n:0);var e=(null===(s=this.options)||void 0===s?void 0:s.dn)?this.ratio:1;t.font="".concat(this.fontSize*e,"px ").concat(z),t.textAlign=null!==(h=null===(r=this.options)||void 0===r?void 0:r.align)&&void 0!==h?h:"center",(null===(o=this.options)||void 0===o?void 0:o.wn)&&(t.fillStyle="#000",t.fillText(this.content,this.h.x+this.options.wn,this.h.y+this.options.wn)),t.fillStyle=null!==(f=null===(u=this.options)||void 0===u?void 0:u.color)&&void 0!==f?f:"#fff",t.fillText(this.content,this.h.x,this.h.y),t.restore()},i.prototype.yn=function(t){var i,n=(null===(i=this.options)||void 0===i?void 0:i.dn)?this.ratio:1;return t.font="".concat(this.fontSize*n,"px ").concat(z),Math.max.apply(Math,this.content.split("\n").map((function(i){return t.measureText(i).width})))},i.prototype.Qt=function(t){this.options=nt(nt({},this.options),t)},i}(tt),rt=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),ht=function(t){function i(i,n,s,r,h,o,u,f){var e=t.call(this,i,n,s,r,h,-1,a,f)||this;return e.frequency=o,e.amplitude=u,e.time=0,e.xn=[],e.Mn=!1,e.font=z,e.scale={x:1,y:1},e}return rt(i,t),i.prototype.update=function(i,n){t.prototype.update.call(this,i,n),this.st.update(i),this.time=i},i.prototype.toggle=function(t){var i=this;clearTimeout(this.vt);var n=p(.2,.5);this.vt=setTimeout((function(){i.content=t,i.pn(i.Mn)}),t?0:1e3*n);var s=t?1:0;this.st.scale({x:s,y:s},n)},i.prototype.rt=function(t){var i,n,s,r,h,o,u,e,c,a,v,l=this;t.save(),t.rotate(null!==(n=null===(i=this.options)||void 0===i?void 0:i.angle)&&void 0!==n?n:0),this.ratio=f(this.scale.x);var d=(null===(s=this.options)||void 0===s?void 0:s.dn)?this.ratio:1;t.textAlign="left",t.font="".concat(this.fontSize*d,"px ").concat(z);var w=null!==(h=null===(r=this.options)||void 0===r?void 0:r.spacing)&&void 0!==h?h:0,y=this.yn(t);this.width=y,t.lineJoin="round";var x=!1;(null===(o=this.options)||void 0===o?void 0:o.background)&&(t.fillStyle=this.options.background,t.beginPath(),t.rect(this.h.x-.5*y-15,this.h.y-30,y+30,47),t.fill(),(null===(u=this.options)||void 0===u?void 0:u.border)&&(t.strokeStyle=this.options.border,t.lineWidth=null!==(e=this.options.borderWidth)&&void 0!==e?e:1,t.stroke()));var M=("center"!==(null===(c=this.options)||void 0===c?void 0:c.align)&&(null===(a=this.options)||void 0===a?void 0:a.align)?0:.5*-y)-this.content.replace(/\|/g,"").length*w*.5;"right"==(null===(v=this.options)||void 0===v?void 0:v.align)&&(M=-y);var p=0;t.translate(this.h.x+M,this.h.y),this.content.split("").forEach((function(i){var n,s,r,h,o,u,f,e;if("|"!==i){var c=null!==(s=null===(n=l.xn[p])||void 0===n?void 0:n.x)&&void 0!==s?s:1,a=null!==(h=null===(r=l.xn[p])||void 0===r?void 0:r.y)&&void 0!==h?h:1,v=t.measureText(i),d=v.width,y=v.actualBoundingBoxAscent+.5*v.actualBoundingBoxDescent;t.save(),t.translate(.5*d,.5*-y),t.scale(c,a),t.translate(.5*-d,.5*y),(null===(o=l.options)||void 0===o?void 0:o.wn)&&(t.fillStyle="#000",t.fillText(i,w*p*c+l.options.wn*c,l.options.wn*a+Math.sin(.005*l.time+p*l.frequency)*l.amplitude*a)),t.fillStyle=x?"#FBB13C":null!==(f=null===(u=l.options)||void 0===u?void 0:u.color)&&void 0!==f?f:"#fff",(null===(e=l.options)||void 0===e?void 0:e.outline)&&(t.strokeStyle="#000",t.lineWidth=l.options.outline*l.ratio,t.strokeText(i,w*p*c,Math.sin(.005*l.time+p*l.frequency)*l.amplitude*a)),t.fillText(i,w*p*c,Math.sin(.005*l.time+p*l.frequency)*l.amplitude*a),t.restore(),t.translate(d,0),p++}else x=!x})),t.restore()},i.prototype.On=function(t){this.font=t},i.prototype.pn=function(t){void 0===t&&(t=!0),this.Mn=t,this.xn=t?this.content.replace(/\|/g,"").split("").map((function(){return{x:b(),y:b()}})):[]},i.prototype.bn=function(){return this.width},i.prototype.yn=function(t){var i,n=(null===(i=this.options)||void 0===i?void 0:i.dn)?this.ratio:1;return t.font="".concat(this.fontSize*n,"px ").concat(this.font),Math.max.apply(Math,this.content.split("\n").map((function(i){return t.measureText(i.replace(/\|/g,"")).width})))},i.prototype.Dt=function(t,i){this.fontSize=t,this.options.wn=i},i}(st),ot=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),ut=function(t){function i(i,n,s,r,h,o,u){void 0===u&&(u=0);var f=t.call(this,i,0,0,0,0,r,a)||this;return f.from=n,f.to=s,f.width=h,f.color=o,f._n=u,f.Tn=Math.random()<.5?1:-1,f.mn=Math.random()<.5?1:-1,f.jn=.25+.5*Math.random(),f}return ot(i,t),i.prototype.rt=function(t){if(t.beginPath(),!(this.ratio<.2)){if(t.lineWidth=this.width*this.ratio,t.lineCap="butt",t.strokeStyle=this.color,t.moveTo(this.from.x,this.from.y),this._n){var i={x:this.from.x*this.jn+this.to.x*(1-this.jn),y:this.from.y*this.jn+this.to.y*(1-this.jn)},n=l(i,this._n*this.Tn,this._n*this.mn),s=l(i,-this._n*this.Tn,this._n*this.mn);t.lineTo(n.x,n.y),t.lineTo(s.x,s.y)}t.lineTo(this.to.x,this.to.y),t.stroke()}},i}(tt),ft=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),et=function(t){function i(i,n,s,r,h){var o=t.call(this,i,n,s,r,h)||this;return o.An=9,o.text=new st(i,"LIVES:",15,0,15,-1,a,{wn:2.2,align:"left"}),o}return ft(i,t),i.prototype.En=function(t){this.An+=t},i.prototype.gn=function(){return this.An<=0},i.prototype.Sn=function(t){this.s=t?{x:380-this.yn(),y:20}:{x:200,y:20}},i.prototype.yn=function(){var t=this.J.canvas.getContext("2d");return t.font="15px ".concat(z),t.measureText(this.text.content).width+7},i.prototype.rt=function(t){t.save(),t.lineWidth=2,t.translate(this.h.x,this.h.y),this.text.rt(t),t.translate(this.yn(),0),t.fillStyle="#000",t.strokeStyle="#fff",t.beginPath(),t.rect(0,0,this.s.x,this.s.y),t.fill(),t.stroke(),t.beginPath(),t.fillStyle=D;t.translate(6,6),t.scale(Math.max(0,this.An/9),1),t.rect(0,0,this.s.x-12,this.s.y-12),t.fill(),t.restore()},i}(y),ct=function(){function t(){this.ratio=0,this.Cn=0,this.speed=1}return t.prototype.update=function(t){this.Cn=Math.max(0,this.Cn-t*this.speed),this.ratio=Math.sin(this.Cn*Math.PI)},t.prototype.pulse=function(t){void 0===t&&(t=1),this.speed=t,this.Cn=1},t}(),at=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),vt=function(t){function i(i,n,s){var r=t.call(this,i,n,s)||this;return r.ratio=0,r.Rn=new ct,r.nt=.002,r.text=new st(i,"foo",40,25,13,-1,a,{wn:3,align:"right"}),r.add(r.text),r}return at(i,t),i.prototype.reset=function(t){this.ratio=0,this.value=t,this.text.content="x".concat(this.value),this.Rn.pulse()},i.prototype.update=function(i,n){t.prototype.update.call(this,i,n),this.Rn.update(.0075*this.delta),this.paused||(this.ratio=f(this.ratio+13e-5*this.delta),this.ratio>.99&&this.value>1&&(this.reset(this.value-1),this.ratio=0,this.J.g.H(),this.Rn.pulse()))},i.prototype.rt=function(i){i.save(),i.translate(this.h.x,this.h.y),i.scale(1+.2*this.Rn.ratio,1+.2*this.Rn.ratio),this.value>1&&(i.beginPath(),i.fillStyle="#000",i.moveTo(0,0),i.arc(0,0,28,.5*-Math.PI,.5*-Math.PI+2*Math.PI*this.ratio,!0),i.closePath(),i.fill()),t.prototype.rt.call(this,i),i.restore()},i}(Z),lt=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),dt=function(t){function i(i,n,s,r,h){void 0===h&&(h=30);var o=t.call(this,i,n,h,s.x,s.y,p(.7,.9),{x:0,y:p(-.5,-.7)},{wn:3,dn:!0})||this;return o.options.color=r,o.d=200,o}return lt(i,t),i.prototype.update=function(i,n){t.prototype.update.call(this,i,n),this.ratio=Math.sin(this.ratio/2*Math.PI)},i}(st),wt=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),yt=function(t){function i(i,n,s){var r=t.call(this,i,n,s)||this;return r.value=0,r.angle=0,r.Ln=Math.random()*Math.PI,r.Cn=0,r.nt=.002,r.text=new st(i,"",40,0,13,-1,a,{wn:3,align:"center"}),r.d=-500,r.add(r.text),r}return wt(i,t),i.prototype.set=function(t){this.value=t,this.text.content=this.value.toString(),this.angle=this.Ln,this.Ln+=p(-1.5,1.5),this.Cn=0},i.prototype.update=function(i,n){t.prototype.update.call(this,i,n),this.Cn=f(this.Cn+.001*this.delta)},i.prototype.rt=function(i){var n=function(t,i,n,s){return void 0===s&&(s=function(t){return t}),t+s(n)*(i-t)}(this.angle,this.Ln,d(this.Cn));i.save(),i.translate(this.h.x,this.h.y),i.rotate(n),i.scale(1+.05*this.it,1+.05*this.it),i.lineWidth=10;var s=k;!function(t,i,n,s,r){E(t,i,n,n,s,r)}(i,{x:0,y:0},50,"transparent",s);i.beginPath(),i.moveTo(35,0),i.lineTo(70,0),i.moveTo(-35,0),i.lineTo(-70,0),i.moveTo(0,35),i.lineTo(0,70),i.moveTo(0,-35),i.lineTo(0,-70),i.lineWidth=25,i.strokeStyle=P,i.stroke(),i.lineWidth=10,i.strokeStyle=s,i.stroke(),i.rotate(-n),t.prototype.rt.call(this,i),i.restore()},i}(Z),xt=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),Mt=40,pt=function(t){function i(i,n,s,r){void 0===s&&(s=!1),void 0===r&&(r=null);var h=t.call(this,i,0,0,Mt,Mt)||this;h.Fn=r,h.Bn=0,h.Rn=new ct,h.In={x:0,y:0},h.moveTo(n,50,45);var o=n%_t,u=Math.floor(n/_t);return s||(h.value=o-1+3*(u-2),(o<2||o>4||u<2||u>4)&&(h.value=1,h.hidden=!0),h.d=0),h}return xt(i,t),i.prototype.moveTo=function(t,i,n){var s=t%_t,r=Math.floor(t/_t);this.h={x:i+46*s,y:n+46*r},this.Un&&(this.Un.h=this.ht())},i.prototype.Wn=function(){return this.Un?"?":"".concat(this.value)},i.prototype.D=function(){this.hidden=!1,this.scale={x:0,y:0},this.st.scale({x:1,y:1},.3),this.pulse(1)},i.prototype.Pn=function(){this.value++,this.pulse(1),this.kn=!1,this.Bn=0},i.prototype.pulse=function(t){this.In={x:0,y:0},this.Rn.pulse(.6*t)},i.prototype.Dn=function(t){this.In=function(t,i){void 0===i&&(i=1);var n=v(t);return 0==n?a:{x:t.x/n*i,y:t.y/n*i}}({x:t.x-this.h.x,y:t.y-this.h.y})},i.prototype.Hn=function(t){return i=this.h,n=t.h,s=Math.abs(i.x-n.x),r=Math.abs(i.y-n.y),Math.sqrt(s*s+r*r)<60;var i,n,s,r},i.prototype.Nn=function(){return this.kn?-1:this.on?5:this.Yn?4:0},i.prototype.update=function(i,n){this.on=!this.Fn&&this.ot(n,1),this.d=this.Nn()+this.Bn,t.prototype.update.call(this,i,n),this.Rn.update(.01*this.delta)},i.prototype.Gn=function(){return this.kn?k:this.Yn?this.on&&!this.J.Vn?H:D:this.on&&!this.J.Vn?D:N},i.prototype.qn=function(){return this.kn?P:this.Yn?this.on&&!this.J.Vn?D:H:"#fff"},i.prototype.rt=function(t){if(!this.hidden){t.save(),t.fillStyle=this.qn();var i=this.Gn();t.strokeStyle=i,t.beginPath(),t.lineWidth=12;t.translate(this.h.x+this.In.x*this.Rn.ratio*-5,this.h.y+this.In.y*this.Rn.ratio*-5),t.translate(.5*this.s.x,.5*this.s.y),t.scale(this.scale.x+.12*this.Rn.ratio,this.scale.y+.12*this.Rn.ratio),t.translate(.5*-this.s.x,.5*-this.s.y),t.rect(0,0,this.s.x,this.s.y),t.stroke(),t.fill(),t.fillStyle=i,t.textAlign="center",t.textBaseline="middle",t.font="20px ".concat(z),t.fillText(this.Fn?this.Fn:this.value.toString(),this.s.x/2,this.s.y/2),t.restore()}},i}(y),Ot=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),bt=function(t,i,n){if(n||2===arguments.length)for(var s,r=0,h=i.length;r<h;r++)!s&&r in i||(s||(s=Array.prototype.slice.call(i,0,r)),s[r]=i[r]);return t.concat(s||Array.prototype.slice.call(i))},_t=7,Tt=[["Select |adjacent tiles","that |add up| to..."],["Too many |mistakes","|means| you'll |lose|..."],["Tiles with |cats| on them","will |score| for |more|!"],["Playing |faster| will also","earn you |bigger points|!"]],mt=function(t){function i(n){var s=t.call(this,n)||this;return s.zn=[],s.level=0,s.Kn=1,s.Xn=[],s.Jn=I,s.P=0,s.Qn=Array.from(Array(_t*_t)).map((function(t,i){return new pt(n,i)})),s.Zn=new ht(n,"",25,400,30,.25,2.5,{wn:3}),s.$n=new st(n,"0",40,790,40,-1,a,{wn:3,align:"right"}),s.ts=[new ht(n,"",30,500,50,.25,2.5,{wn:3,dn:!0}),new ht(n,"",30,500,80,.25,2.5,{wn:3,dn:!0})],s.target=new yt(n,500,220),s.H=new vt(n,765,73),s.vn=new et(n,10,10,200,20),s.button=new X(n,"TRY AGAIN?",400,500,260,70,(function(){s.J.g.L(1),s.J.Bt(new i(n))}),s.J.g,25),s.button.d=500,s.button.visible=!1,s.ts.forEach((function(t){return t.d=500})),s.vn.d=s.H.d=s.$n.d=400,s.add.apply(s,bt(bt(bt(bt([],s.Qn,!1),[s.Zn,s.$n],!1),s.ts,!1),[s.target,s.H,s.vn,s.button],!1)),s.ns(),s}return Ot(i,t),i.prototype.Tt=function(){return[this.button]},i.prototype.update=function(i,n){var s;if(t.prototype.update.call(this,i,n),this.J.canvas.style.cursor=this.Qn.some((function(t){return!t.hidden&&t.on}))?"pointer":"default",!n.Lt&&!n.ss||this.locked)this.rs=null;else{var r=this.Qn.find((function(t){return t.on})),h=!n.Lt&&n.ss;if(h&&(null==this?void 0:this.rs)===r)return;if(r&&!r.hidden&&(0===this.zn.length||this.zn.some((function(t){return t.Hn(r)})))){if((null===(s=null==r?void 0:r.Un)||void 0===s?void 0:s.wi())&&r.Un.li(r.ht()),h&&r.Yn)return;r.Yn=!r.Yn,this.toggle(r);var o=this.zn.reduce((function(t,i){return t+i.value}),0),u=this.zn.reduce((function(t,i){return t+(i.Un?0:i.value)}),0),f=this.zn.some((function(t){return t.Un}))?"".concat(u,"?"):"".concat(o);this.hs(this.zn.length>1?"|".concat(this.zn.map((function(t){return t.Wn()})).join("|+|"),"|=|").concat(f):""),o>=this.target.value?(n.ss=!1,this.os(o)):this.add(new dt(this.J,f,r.ht(),"#fff",35))}this.rs=r}},i.prototype.hs=function(t){var i=this.J.canvas.getContext("2d"),n=t.split("+");if(n.length>3)for(var s=0;s<n.length-1;s++){var r=bt(bt([],n.slice(0,s),!0),[n[n.length-1]],!1);if(i.font="25px ".concat(z),i.measureText(r.join("+")).width>this.us){var h=Math.floor(r.length/2);return void(this.Zn.content=bt(bt(bt([],r.slice(0,h),!0),["..."],!1),r.slice(h),!0).join("+"))}}this.Zn.content=t},i.prototype.showHelp=function(){var t=this;this.ts.forEach((function(i,n){var s,r;i.toggle(null!==(r=null===(s=Tt[t.level])||void 0===s?void 0:s[n])&&void 0!==r?r:"")}))},i.prototype.fs=function(){this.ts.forEach((function(t){return t.toggle("")}))},i.prototype.It=function(t){this.Qn.forEach((function(i,n){return i.moveTo(n,t?45:50,t?400:45)})),this.target.h=t?{x:200,y:320}:{x:550,y:270},this.Zn.h={x:t?200:400,y:t?150:380},this.Jn=t?U:I,this.$n.h=t?{x:390,y:40}:{x:790,y:40},this.H.h=t?{x:365,y:75}:{x:765,y:73},this.ts.forEach((function(i,n){return i.h=t?{x:200,y:200+35*n}:{x:550,y:160+35*n}})),this.vn.h=t?{x:10,y:765}:{x:10,y:10},this.vn.Sn(t),this.us=t?250:700,this.button.h=l(this.target.h,-130,-35)},i.prototype.es=function(t){return l(t,p(-10,10),p(-10,10))},i.prototype.os=function(t){var i=this;this.H.paused=!0,this.fs(),this.locked=!0,this.hs(this.zn.length>1?"|".concat(this.zn.map((function(t){return t.value})).join("|+|"),"|=|").concat(t):"");var n=t-this.target.value,s=0===n,r=l(this.zn[this.zn.length-1].ht(),0,-2),h=O(["PURRFECT!","PAWFECT!","PAWLESS!","MEOWRVELOUS!","FURFECT!","CATEMPLARY!","FELICCIMO!","RADICLAW!"]),o=O(["MEOWSTAKE!","PURROR!","MEOWSCALCULATION!","MEOWSSTEP!","FURROR!","CATASTROPHE!","MEOWSERABLE!"]);this.add(new dt(this.J,s?h:o,this.es(r),s?H:D,20)),s?(this.J.g.done(),this.Kn++):(this.J.wt.ct(5,.1),this.J.g.k(),setTimeout((function(){i.J.g.k(),i.add(new dt(i.J,"".concat(i.target.value-t),i.es(r),D,60)),i.J.wt.ct(5,.15)}),300)),this.zn.reverse(),this.Xn.forEach((function(t){return t.di=!1})),this.vn.En(-n),this.zn.forEach((function(t,n){setTimeout((function(){n%2==0&&i.J.g.L(Math.min(1.5,1+.05*n)),i.J.g.P(n),t.pulse(.6),t.kn=!0,t.Bn=-n,i.J.wt.ct(2,.05),n>0&&i.add(new ut(i.J,i.zn[n-1].ht(),t.ht(),1,5,H,p(0,10))),n<i.zn.length-1&&t.Dn(i.zn[n+1].h),t.Yn=!1;var r=t.value*(n+1)*(t.Un?5:1)*i.H.value*(s?5:1);i.P+=r,i.$n.content=c(i.P),i.add(new dt(i.J,c(r),t.ht(),t.Un?H:"#fff")),t.Un&&i.cs(t.Un,t)}),120*n+300+(s?0:500))})),setTimeout((function(){if(i.J.g.L(1),i.vn.gn())setTimeout((function(){i.J.wt.ct(5,.2),i.ts[0].toggle("|GAME OVER|!"),i.ts[1].toggle("Final score: |".concat(c(i.P))),i.Xn.forEach((function(t){return t.vi(!0)})),i.J.g.N(),i.J.g.L(.7),i.button.visible=!0}),500);else{var t=i.Qn.filter((function(t){return t.hidden&&i.zn.some((function(i){return i.Hn(t)}))}));t.length>0&&i.J.g.D(),t.forEach((function(t){return t.D()})),i.zn.forEach((function(t){return t.Pn()})),i.zn=[],i.ns(),i.Zn.content="",i.vs(),i.locked=!1,i.Xn.filter((function(t){return!t.di})).forEach((function(t){return t.vi(!0)}))}}),800+120*this.zn.length)},i.prototype.ns=function(){this.showHelp(),this.level++,this.H.paused=!1,this.H.reset(Math.min(13,this.Kn)),this.target.set(this.ls(this.level+1))},i.prototype.ls=function(t){for(var i=[O(this.Qn.filter((function(t){return!t.hidden})))],n=0;n<Math.min(t,Math.floor(this.Qn.filter((function(t){return!t.hidden})).length/2))-1;n++)i.push(O(this.Qn.filter((function(t){return!t.hidden&&!i.includes(t)&&i.some((function(i){return i.Hn(t)}))}))));return i.reduce((function(t,i){return t+i.value}),0)},i.prototype.toggle=function(t){this.J.g.W(),t.pulse(1),this.zn.includes(t)?this.zn=this.zn.filter((function(i){return i!==t})):this.zn.push(t)},i.prototype.vs=function(){var t=this;if(this.Qn.some((function(t){return!t.hidden&&!t.Un}))){var i=new W(this.J,this.Jn[0].x,this.Jn[0].y);this.Xn.push(i),this.add(i),i.li({x:this.Jn[1].x,y:this.Jn[1].y}),setTimeout((function(){return i.li({x:t.Jn[2].x,y:t.Jn[2].y})}),1e3),setTimeout((function(){return i.li({x:t.Jn[3].x,y:t.Jn[3].y})}),1700),setTimeout((function(){return t.cs(i)}),2600)}},i.prototype.cs=function(t,i){void 0===i&&(i=null);var n=O(this.Qn.filter((function(t){return!t.hidden&&!t.Un})));n&&(n.Un=t,i&&(i.Un=null),t.li(l(n.ht(),0,5)))},i.prototype.rt=function(i){Y(i),t.prototype.rt.call(this,i)},i}(Z),jt=function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},t(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),At=function(t,i,n){if(n||2===arguments.length)for(var s,r=0,h=i.length;r<h;r++)!s&&r in i||(s||(s=Array.prototype.slice.call(i,0,r)),s[r]=i[r]);return t.concat(s||Array.prototype.slice.call(i))},Et=function(t){function i(i){var n=t.call(this,i)||this;return n.Xn=[],n.Qn="CATCULUS".split("").map((function(t,n){var s=new pt(i,n,!0,t);return s.h={x:46*n+220,y:120},s})),n.button=new X(i,"PLAY",400,320,260,70,(function(){i.Bt(new mt(i))}),n.J.g,35),n.vs(n.Qn[0],-46),n.vs(n.Qn[n.Qn.length-1],46),n.vs(n.Qn[2],0),n.Xn[0].vi(!0),n.Xn[1].vi(!0),n.add.apply(n,At(At([new ht(i,"|Antti Haavikko| presents",18,400,105,.25,1.5,{wn:2}),new ht(i,"Made for |js13k| 2025",12,400,182,.2,1.5,{wn:1.5})],n.Qn,!1),n.Xn,!1)),setTimeout((function(){return n.ds()}),3e3),n}return jt(i,t),i.prototype.end=function(){this.ended=!0},i.prototype.ds=function(){var t,i,n=this;this.ended||(this.Xn[2].li(O(this.Qn).ht()),setTimeout((function(){return n.ds()}),(i=8e3,(t=1e3)+Math.floor(Math.random()*(i-t+1)))))},i.prototype.Tt=function(){return[this.button]},i.prototype.update=function(i,n){t.prototype.update.call(this,i,n),this.button.update(i,n)},i.prototype.vs=function(t,i){var n=t.ht();this.Xn.push(new W(this.J,n.x+i,n.y))},i.prototype.It=function(t){this.button.h=t?{x:70,y:420}:{x:260,y:280},this.ws=t?-140:-200,this.ys=t?220:-50,this.xs=t?.85:1.5},i.prototype.rt=function(i){i.save(),Y(i),i.translate(this.ws,this.ys),i.scale(this.xs,this.xs),t.prototype.rt.call(this,i),i.restore(),this.button.rt(i)},i}(Z),gt=1600,St=document.createElement("canvas");St.style.userSelect="none",St.style.touchAction="none";var Ct=St.getContext("2d"),Rt={x:0,y:0},Lt=new u;Lt.S(),Lt.F();var Ft=new A(Lt,St);Ft._t=new Et(Ft),St.id="game",St.width=gt,St.height=800,document.body.appendChild(St);var Bt=1,It=0,Ut=0,Wt=null,Pt=function(){var t=window.innerHeight>window.innerWidth;St.width=t?800:gt,St.height=t?gt:800,Bt=Math.min(window.innerWidth/St.width,window.innerHeight/St.height),St.style.transformOrigin="top left",It=.5*(window.innerWidth-St.width*Bt),Ut=.5*(window.innerHeight-St.height*Bt),St.style.transform="translate(".concat(It,"px,").concat(Ut,"px) scale(").concat(Bt,")"),t!==Wt&&Ft._t.It(t),Wt=t};Pt(),window.onresize=Pt;var kt=!1;document.onfullscreenchange=function(){return kt=!kt};var Dt=function(t,i){Rt.x=(kt?(t-t)/Bt:t)/2,Rt.y=(kt?(i-i)/Bt:i)/2};document.onmousemove=function(t){return Dt(t.offsetX,t.offsetY)},St.ontouchmove=function(t){return Dt(t.touches[0].clientX/Bt-It,t.touches[0].clientY/Bt-Ut)},window.onkeydown=function(t){Ft.pressed(t)},window.onkeyup=function(t){return Ft.St(t)},document.onmousedown=function(){Lt.F(),Rt.Lt=!0,Rt.ss=!0,Ft.click(Rt)},St.ontouchstart=function(t){document.onmousedown(null),Ft.Vn=!0,Dt(t.touches[0].clientX/Bt-It,t.touches[0].clientY/Bt-Ut)},document.onmouseup=St.ontouchcancel=St.ontouchend=function(){Rt.Lt=!1,Rt.ss=!1};var Ht=function(t){requestAnimationFrame(Ht),Ct.resetTransform(),Ft.update(t,Rt),Ct.scale(2,2),Ft.rt(Ct)};requestAnimationFrame(Ht)})();</script></body></html>