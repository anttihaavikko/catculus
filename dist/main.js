(()=>{"use strict";var t={d:(n,i)=>{for(var o in i)t.t(i,o)&&!t.t(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:i[o]})},t:(t,n)=>Object.prototype.hasOwnProperty.call(t,n)};t.d({},{i:()=>tt,o:()=>$});var n={u:[{h:[0,255,116,79,0,255,116,0,83,0,4,6,69,52,0,0,0,0,0,0,2,21,0,0,50,0,0,0,0],v:[1,2,1,1,1,2,1,2],c:[{n:[147,,,,,147,,147,,,147,,,,,147,147,,,,,147,,147,,,147,,,,,147],f:[]},{n:[147,,,,,147,,147,,,147,,,,,147,147,,,,,147,,147,,,147],f:[]}]},{h:[0,0,140,0,0,0,140,0,0,50,4,10,47,55,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],v:[3,4,2,2,1,5,1,5,3,4],c:[{n:[147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147],f:[]},{n:[147,,147,147,147,,147,147,147,,147,,147,147,,147,147,,147,147,147,,147,147,147,,147,,147,147,,147],f:[]},{n:[147,,147,,147,,147,,147,,147,,147,,147,,147,,147,,147,,147,,147,,147,,147,,147],f:[]},{n:[147,,147,,147,,147,,147,,147,,147,,147,,147,,147,,147,,147,,147,,147,,147],f:[]},{n:[147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147,147],f:[]}]},{h:[0,160,128,64,0,160,128,0,64,210,4,7,52,85,0,0,0,60,4,1,2,255,0,0,32,61,5,32,6],v:[1,1,1,1,1,1,1,1],c:[{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147],f:[]}]},{h:[2,127,128,0,3,201,128,0,0,0,0,6,29,0,0,0,0,195,4,1,3,50,184,119,244,147,6,84,6],v:[1,2,1,2,1,2,1,2],c:[{n:[111,,111,,111,,,111,111,,,,111,,,,111,,111,,111,,,111,111,,,,111,,110,109],f:[]},{n:[111,,111,,111,,,111,111,,,,111,,,,111,,111,,111,,,111,111,,,,111],f:[]}]},{h:[3,192,116,0,3,192,128,0,0,0,7,12,22,0,0,0,0,0,0,0,2,255,0,0,32,61,3,29,4],v:[1,2,3,4,3,4,1,2,3,4],c:[{n:[135,138,142,147,150,154,150,147,135,138,142,147,150,154,150,123,130,133,137,142,145,149,145,142,130,133,137,142,145,149,145,142],f:[]},{n:[131,134,138,143,146,150,146,143,131,134,138,143,146,150,146,143,133,136,140,145,148,152,148,145,133,136,140,145,148,152,148,145],f:[]},{n:[142,,147,154,149,154,159,161,150,,162,,150,,159,,142,,142,,149,157,154,157,154,,159,,161,,154,,162,,,,,,,,,,,,,,,,159,,,161],f:[]},{n:[155,149,143,162,159,155,157,149,155,159,162,,159,,157,,143,,147,,147,152,162,159,142,158,149,154,158,154,161,,161,,,,,,,,,,,,,,,,155,,152],f:[]}]},{h:[3,255,128,0,1,154,128,9,0,0,7,5,52,0,0,0,0,0,0,0,1,0,0,0,32,47,3,13,2],v:[,,,,1,2,3,4],c:[{n:[114,,,,,,,,,,114,,113,,111,,106,,,,,,,,,,109,,106,,106],f:[]},{n:[102,,,,,,,,,,107,,102,,99,,104,,,,,,,,,,109,,104,,101],f:[10]},{n:[114,,,,,,,,,,114,,109,,106,,104,,,,,,,,,,109,,106,,104],f:[]},{n:[102,,,,,,,,,,107,,102,,99,,104,,,,,,,,,,106,,106,,106],f:[]}]},{h:[0,255,152,0,3,255,152,12,0,0,9,0,19,0,0,0,0,0,0,0,2,59,0,0,32,47,1,57,1],v:[,,,,,,,,1,2],c:[{n:[126,,,,,,126,,130,,,,126,,,,125,,,,,,,,130,,,,125],f:[]},{n:[125,,,,,,126,,123,,,,,,,,123,,,,,,,,122,,,,125],f:[]}]}],l:7350,p:32,M:9,m:7},i=function(){var t,n,i,o,u,s=function(t){return Math.sin(6.283184*t)},r=function(t){return.003959503758*Math.pow(2,(t-128)/12)},h=function(t,n,i){var o,u,s,h,c,e,a=f[t.h[0]],v=t.h[1],l=t.h[3]/32,d=f[t.h[4]],y=t.h[5],w=t.h[8]/32,p=t.h[9],M=t.h[10]*t.h[10]*4,x=t.h[11]*t.h[11]*4,m=t.h[12]*t.h[12]*4,_=1/m,b=-t.h[13]/16,O=t.h[14],j=(Math.pow(2,2-t.h[15]),new Int32Array(M+x+m)),A=0,T=0;for(o=0,u=0;o<M+x+m;o++,u++)u>=0&&(c=r(n+(15&O)+t.h[2]-128),e=r(n+(15&O)+t.h[6]-128)*(1+8e-4*t.h[7])),s=1,o<M?s=o/M:o>=M+x&&(s=(1-(s=(o-M-x)*_))*Math.pow(3,b*s)),h=a(A+=c*Math.pow(s,l))*v,h+=d(T+=e*Math.pow(s,w))*y,p&&(h+=(2*Math.random()-1)*p),j[o]=80*h*s|0;return j},f=[s,function(t){return t%1<.5?1:-1},function(t){return t%1*2-1},function(t){var n=t%1*4;return n<2?n-1:3-n}];this.init=function(s){t=s,n=s.M,i=0,o=s.l*s.p*(n+1)*2,u=new Int32Array(o)},this._=function(){var r,c,e,a,v,l,d,y,w,p,M,x,m,_,b=new Int32Array(o),O=t.u[i],j=t.l,A=t.p,T=0,g=0,S=!1,C=[];for(e=0;e<=n;++e)for(d=O.v[e],a=0;a<A;++a){var E=f[O.h[16]],I=O.h[17]/512,D=Math.pow(2,O.h[18]-9)/j,F=O.h[19],k=O.h[20],B=43.23529*O.h[21]*3.141592/44100,L=1-O.h[22]/255,q=1e-5*O.h[23],z=O.h[24]/32,H=O.h[25]/512,N=6.283184*Math.pow(2,O.h[26]-9)/j,R=O.h[27]/255,U=O.h[28]*j&-2;for(M=(e*A+a)*j,v=0;v<4;++v)if(l=d?O.c[d-1].n[a+v*A]:0){C[l]||(C[l]=h(O,l,j));var V=C[l];for(c=0,r=2*M;c<V.length;c++,r+=2)b[r]+=V[c]}for(c=0;c<j;c++)(p=b[y=2*(M+c)])||S?(x=B,F&&(x*=E(D*y)*I+.5),g+=(x=1.5*Math.sin(x))*(m=L*(p-g)-(T+=x*g)),p=3==k?g:1==k?m:T,q&&(p=(p*=q)<1?p>-1?s(.25*p):-1:1,p/=q),S=(p*=z)*p>1e-5,_=p*(1-(w=Math.sin(N*y)*H+.5)),p*=w):_=0,y>=U&&(_+=b[y-U+1]*R,p+=b[y-U]*R),b[y]=0|_,b[y+1]=0|p,u[y]+=0|_,u[y+1]+=0|p}return++i/t.m},this.O=function(t){for(var n=t.createBuffer(2,o/2,44100),i=0;i<2;i++)for(var s=n.getChannelData(i),r=i;r<o;r+=2)s[r>>1]=u[r]/65536;return n},this.j=function(){var t=44+2*o-8,n=t-36,i=new Uint8Array(44+2*o);i.set([82,73,70,70,255&t,t>>8&255,t>>16&255,t>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&n,n>>8&255,n>>16&255,n>>24&255]);for(var s=0,r=44;s<o;++s){var h=u[s];h=h<-32767?-32767:h>32767?32767:h,i[r++]=255&h,i[r++]=h>>8&255}return i},this.getData=function(t,n){for(var i=2*Math.floor(44100*t),o=new Array(n),s=0;s<2*n;s+=1){var r=i+s;o[s]=t>0&&r<u.length?u[r]/32768:0}return o}},o=function(){return window.__TAURI__},u=function(t,n){window.__TAURI__.core.invoke(t,n)};function s(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return h.play.apply(h,t)}var r,h={volume:.3,sampleRate:44100,x:new AudioContext,play:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.A(this.T.apply(this,t))},A:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.x.createBuffer(t.length,t[0].length,this.sampleRate),o=this.x.createBufferSource();return t.map((function(t,n){return i.getChannelData(n).set(t)})),o.buffer=i,o.connect(this.x.destination),o.start(),o},T:function(t,n,i,o,u,s,r,h,f,c,e,a,v,l,d,y,w,p,M,x){void 0===t&&(t=1),void 0===n&&(n=.05),void 0===i&&(i=220),void 0===o&&(o=0),void 0===u&&(u=0),void 0===s&&(s=.1),void 0===r&&(r=0),void 0===h&&(h=1),void 0===f&&(f=0),void 0===c&&(c=0),void 0===e&&(e=0),void 0===a&&(a=0),void 0===v&&(v=0),void 0===l&&(l=0),void 0===d&&(d=0),void 0===y&&(y=0),void 0===w&&(w=0),void 0===p&&(p=1),void 0===M&&(M=0),void 0===x&&(x=0);var m,_,b=2*Math.PI,O=this.sampleRate,j=f*=500*b/O/O,A=i*=(1+2*n*Math.random()-n)*b/O,T=[],g=0,S=0,C=0,E=1,I=0,D=0,F=0;for(o=o*O+9,M*=O,u*=O,s*=O,w*=O,c*=500*b/Math.pow(O,3),d*=b/O,e*=b/O,a*=O,v=v*O|0,_=o+M+u+s+w|0;C<_;T[C++]=F)++D%(100*y|0)||(F=r?r>1?r>2?r>3?Math.sin(Math.pow(g%b,3)):Math.max(Math.min(Math.tan(g),1),-1):1-(2*g/b%2+2)%2:1-4*Math.abs(Math.round(g/b)-g/b):Math.sin(g),F=(v?1-x+x*Math.sin(b*C/v):1)*(F>0?1:-1)*Math.pow(Math.abs(F),h)*t*this.volume*(C<o?C/o:C<o+M?1-(C-o)/M*(1-p):C<o+M+u?p:C<_-w?(_-C-w)/s*p:0),F=w?F/2+(w>C?0:(C<_-w?1:(_-C)/w)*T[C-w|0]/2):F),g+=(m=(i+=f+=c)*Math.cos(d*S++))-m*l*(1-1e9*(Math.sin(C)+1)%2),E&&++E>a&&(i+=e,A+=e,E=0),!v||++I%v||(i=A,f=j,E||(E=1));return T}},f=function(){function t(t,n,i){this.g=!1,this.S=1,this.C=1,this.I=document.createElement("audio"),t&&this.D(),n&&this.F(),i&&this.k(),document.body.appendChild(this.I),this.B()}return t.prototype.B=function(){var t,n;this.S=parseFloat(null!==(t=localStorage.getItem("CoupAhooMusicVol"))&&void 0!==t?t:"0.5"),this.C=parseFloat(null!==(n=localStorage.getItem("CoupAhooSoundVol"))&&void 0!==n?n:"0.5"),this.L()},t.prototype.q=function(){var t=this;if(!this.g&&!o()&&(this.g=!0,n)){var u=new i;u.init(n),u._(),this.loaded=!1;var s=setInterval((function(){if(!t.loaded&&(t.loaded=u._()>=1,t.loaded)){var n=u.j();t.I.src=URL.createObjectURL(new Blob([n],{type:"audio/wav"})),t.I.loop=!0,t.L(),t.I.H=!1,clearInterval(s)}}),5)}},t.prototype.L=function(){this.I.volume=this.N()*(this.R?.5:1)*this.S},t.prototype.U=function(){return this.I.playbackRate},t.prototype.V=function(t){o()?u("set_pitch",{pitch:t}):t<.1?this.I.volume=0:this.I.playbackRate=t},t.prototype.P=function(){return this.muted},t.prototype.W=function(t){if(this.muted=t,this.muted)return localStorage.setItem("CoupAhooMute","1"),void this.I.pause();localStorage.removeItem("CoupAhooMute"),this.G||this.I.play()},t.prototype.J=function(t){if(this.G=t,this.G)return localStorage.setItem("CoupAhooMusic","1"),void this.I.pause();localStorage.removeItem("CoupAhooMusic"),this.muted||this.I.play()},t.prototype.K=function(t){this.X=t,this.X?localStorage.setItem("CoupAhooSounds","1"):localStorage.removeItem("CoupAhooSounds")},t.prototype.D=function(){this.W(!this.muted),o()?this.Y():this.L()},t.prototype.F=function(){this.J(!this.G),o()?this.Y():this.L()},t.prototype.Z=function(){return this.X&&this.G},t.prototype.k=function(){this.K(!this.X)},t.prototype.Y=function(){o()&&u("set_volume",{volume:this.N()*this.S})},t.prototype.N=function(){return this.muted||this.G?0:.7},t.prototype.$=function(t){this.muted||this.G||(this.V(t?.95:1),this.R=t,o()?this.Y():this.L())},t.prototype.tt=function(){var t,n=this;if(o())return t="play_music",window.__TAURI__.core.invoke(t),void this.Y();var i=setInterval((function(){n.loaded&&(n.muted||n.G||n.I.play(),clearInterval(i))}),5)},t.prototype.play=function(t,n,i){var r=this;void 0===n&&(n="button"),void 0===i&&(i=1),this.muted||this.X||(o()?u("play_sound",{effect:n,volume:.6*i*this.C}):s.apply(void 0,t.map((function(t,n){return 0===n?.6*(null!=t?t:1)*r.C:t}))))},t.prototype.button=function(){this.play([1,,9,.01,.01,.01,,2.6,-17,,214,.01,,,,,,.72,.01,,-1386])},t.prototype.nt=function(){},t.prototype.select=function(){},t.prototype.it=function(){this.play([1.3,,298,.02,.03,.05,,2.3,8,-29,,,,,,,.01,.83,.07]),this.play([.5,,678,,.01,.17,,2.1,-1,,,,,.1,40,,,.78,.03,,387])},t.prototype.ot=function(){this.play([1.5,,633,.01,.01,.04,4,4.2,,,141,,,,12,,.01,.84,.01,.15])},t.prototype.ut=function(t){this.play([.1*t,,33,.01,.03,.01,4,3.6,-34,2,,,,,,,.43,.53,.03,.06,171])},t.prototype.st=function(){this.play([1.6,,472,.01,.02,.22,2,2.2,,,,,.03,.8,1.8,,.16,.47,,.32,-1767])},t.prototype.rt=function(){this.play([.9,,409,,.04,.06,,.9,,2,210,.08,.02,,,.1,,.5,.02,,-1495])},t.prototype.ht=function(){this.play([1.3,,615,.01,.07,.09,,1.1,,,273,.05,,,,,.05,.98,.02])},t.prototype.ft=function(){this.play([3.5,,913,,.01,.03,1,4.2,-22,23,-43,.01,,,2.5,.4,.2,.6,.02,,375])},t.prototype.ct=function(){this.play([1.3,,449,.02,.05,.16,1,1.7,,,352,.07,.08,,30,.1,.04,.85,.02,,-1498])},t.prototype.step=function(t){t?this.play([.2,,210,.02,.04,.04,3,2.3,21,,,,.17,.4,,.1,.33,.61,.02,.4,-1437]):this.play([.2,,217,,.01,.02,,1.8,-37,,-93,,,,,,,.56,.03,,103])},t.prototype.et=function(){this.play([.9,,514,.07,.28,.44,1,2.8,,37,,,.09,.5,,,,.93,.14,.04,-1331])},t.prototype.vt=function(){this.play([,,95,.02,.24,.34,1,3.5,-9,,,,,.1,41,.2,,.35,.15,.47,-3344]),this.play([2.2,,48,,.01,.56,4,3.1,7,,,,.1,.6,,.9,.43,.49,.18,.05])},t.prototype.lt=function(){this.play([.5,,189,,.27,.26,,.9,3,2,,,.07,.4,,,,.77,.16,.19,112])},t.prototype.dt=function(){this.play([1.4,,113,.03,.29,.14,1,.8,,,124,.08,.02,,,,.14,.92,.11,.17])},t.prototype.yt=function(){this.play([.5,,585,.07,.14,.06,1,3.5,,,-55,.09,.05,,,.1,,.52,.15,.46])},t.prototype.wt=function(){this.play([2.1,,577,.03,.26,.07,,3.3,,-191,232,.08,.09,,,,.19,.5,.28,.41])},t.prototype.Mt=function(){this.play([.8,,387,.1,.13,.06,,3.1,,,-142,.08,.03,.4,,,,.53,.14])},t.prototype.xt=function(){this.play([3,,264,.02,.17,.09,1,1.3,-12,-15,,,.09,,,.1,.17,.54,.16,.28])},t.prototype.prompt=function(){this.play([.2,,22,.02,.01,.04,,.7,-28,-56,,,,,,.1,,.63,.03,,-1010])},t.prototype._t=function(){this.play([.6,,571,.02,.09,.08,,1.2,5,,,,,.3,,,,.53,.03])},t.prototype.bt=function(){this.play([.6,,146,,,.03,,1.6,,,-2,.11,,.1,,,,.83,.02])},t.prototype.Ot=function(){this.play([7,,59,.02,.01,.03,3,4.4,1,-73,-2,.03,.01,.3,118,,,.61,.03,.28,-534]),this.play([.9,,164,.04,.07,.14,1,1.7,,18,,,,.1,,.1,,.88,.05,,-767])},t}(),c=function(t){return function(t,n,i){return Math.min(Math.max(t,n),i)}(t,0,1)},e=function(t,n,i){return t+(n>t?Math.min(n-t,i):Math.max(n-t,-i))},a={x:0,y:0},v=function(t){return t<.5?2*t*t:-2*t*t+4*t-1},l=function(){function t(t){this.jt=t,this.time=0,this.type="none",this.At=function(t){return(n=t)<4/11?121*n*n/16:n<8/11?9.075*n*n-9.9*n+3.4:n<.9?4356/361*n*n-35442/1805*n+16061/1805:10.8*n*n-20.52*n+10.72;var n}}return t.prototype.isActive=function(){return this.active},t.prototype.scale=function(t,n){this.type="scale";var i=this.jt.scale;this.start={x:i.x,y:i.y},this.Tt(t,n)},t.prototype.move=function(t,n){this.type="move";var i=this.jt.v;this.start={x:i.x,y:i.y},this.Tt(t,n)},t.prototype.rotate=function(t,n){this.type="rotate";var i=this.jt.rotation;this.start={x:i,y:i},this.Tt({x:t,y:t},n)},t.prototype.gt=function(t){this.At=t},t.prototype.Tt=function(t,n){this.target=t,this.duration=1e3*n,this.active=!0,this.startTime=-1},t.prototype.stop=function(){this.type,this.active=!1},t.prototype.update=function(t){if(this.startTime<0||"none"==this.type)this.startTime=t;else if(this.active&&(this.time=c((t-this.startTime)/this.duration),this.start&&this.target)){var n,i,o,u,s=(n=this.start,i=this.target,o=this.time,void 0===(u=this.At)&&(u=function(t){return t}),{x:n.x+u(o)*(i.x-n.x),y:n.y+u(o)*(i.y-n.y)});"move"==this.type&&(this.jt.v={x:s.x,y:s.y}),"scale"==this.type&&(this.jt.scale={x:s.x,y:s.y}),"rotate"==this.type&&(this.jt.rotation=s.x),this.active=this.time<1}},t.St=function(t,n){void 0===n&&(n=1e3);for(var i=function(i){setTimeout((function(){return t(i)}),i*n)},o=0;o<1;o+=.01)i(o)},t}(),d=function(){function t(t,n,i,o,u){this.Ct=t,this.scale={x:1,y:1},this.d=0,this.rotation=0,this.Et=0,this.It=0,this.Dt=0,this.Ft=0,this.kt=.005,this.delta=0,this.v={x:n,y:i},this.s={x:o,y:u},this.Bt=new l(this),this.Et=Math.random()}return t.prototype.update=function(t,n){this.delta=t-this.It,this.It=t,this.Bt.update(t),this.Dt=Math.sin(t*this.kt+this.Et),this.Ft=Math.abs(this.Dt)},t.prototype.Lt=function(t){},t.prototype.qt=function(){return{x:this.v.x+.5*this.s.x,y:this.v.y+.5*this.s.y}},t.prototype.setPosition=function(t,n){this.v={x:t,y:n}},t.prototype.zt=function(t,n){void 0===n&&(n=0);var i=this.qt();return t.x>i.x-.5*this.s.x*this.scale.x-.5*n&&t.x<i.x+.5*this.s.x*this.scale.x+.5*n&&t.y>i.y-.5*this.s.y*this.scale.y-.5*n&&t.y<i.y+.5*this.s.y*this.scale.y+.5*n},t.prototype.Ht=function(t){t.save(),t.translate(this.v.x,this.v.y),this.Lt(t),t.restore()},t}(),y=(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),w=function(t){function n(n,i){void 0===i&&(i=0);var o=t.call(this,n,0,0,0,0)||this;return o.d=500,setTimeout((function(){return o.open()}),i),o}return y(n,t),n.prototype.open=function(t){void 0===t&&(t=function(){}),this.Bt.scale({x:0,y:0},.5),setTimeout(t,500)},n.prototype.close=function(t){void 0===t&&(t=function(){}),this.Bt.scale({x:1,y:1},.4),setTimeout(t,500)},n.prototype.Lt=function(t){t.fillStyle="#000",t.fillRect(0,0,.55*$*this.scale.x,tt),t.fillRect($-.55*$*this.scale.x,0,$*this.scale.x,tt)},n}(d),p=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=1),t+Math.random()*(n-t)},M=function(t){return t[Math.floor(Math.random()*t.length)]},x=function(){return Math.random()<.5?1:-1},m=function(){function t(){this.offset=a,this.pan=a,this.shift=0,this.Nt=0,this.Rt=0}return t.prototype.Ut=function(t,n,i){var o=this;void 0===i&&(i=0),this.Nt=t,this.Rt=i/360*Math.PI,clearTimeout(this.Vt),this.Vt=setTimeout((function(){return o.reset()}),1e3*n)},t.prototype.update=function(){this.offset={x:p(-this.Nt,this.Nt),y:p(-this.Nt,this.Nt)},this.rotation=p(-this.Rt,this.Rt)},t.prototype.reset=function(){this.Nt=0,this.Rt=0},t}(),_=function(){function t(t){this.I=t,this.value=this.target=this.I.U();var n=navigator.userAgent.toLowerCase();this.disabled=["iphone","ipad"].some((function(t){return n.includes(t)}))||n.includes("macintosh")&&navigator.maxTouchPoints>0}return t.prototype.update=function(t){if(!this.disabled){var n=this.target-this.value;Math.abs(n)<.01||(this.value+=1e-4*Math.sign(n)*t*this.speed,this.I.V(this.value))}},t.prototype.Pt=function(t,n){void 0===n&&(n=1),this.speed=n,this.value=t},t.prototype.Wt=function(t,n){void 0===n&&(n=1),this.speed=n,this.target=t},t}(),b=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),O=function(){return O=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++)for(var u in n=arguments[i])Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u]);return t},O.apply(this,arguments)},j=function(t){function n(n,i){var o=t.call(this,null,0,0,0,0)||this;return o.I=n,o.canvas=i,o.Gt=new m,o.Jt=[],o.Kt=[],o.Qt=new _(n),o.Xt=new w(o,400),o}return b(n,t),n.prototype.click=function(t,n){var i;this.Yt=!1,null===(i=this.Zt)||void 0===i||i.$t().forEach((function(i){i.visible&&i.zt(t)&&i.tn(n)}))},n.prototype.nn=function(t){this.Jt.push(t)},n.prototype.on=function(t){this.Kt.push(t)},n.prototype.un=function(){this.Jt=[],this.Kt=[]},n.prototype.pressed=function(t){t.repeat||this.Jt.forEach((function(n){return n(t)}))},n.prototype.sn=function(t){this.Kt.forEach((function(n){return n(t)}))},n.prototype.rn=function(){return this.hn},n.prototype.update=function(n,i){var o;t.prototype.update.call(this,n,i),null===(o=this.Zt)||void 0===o||o.update(n,i),this.Gt.update(),this.Xt.update(n,i),this.Qt.update(this.delta),i.fn=!1,this.hn=O({},i)},n.prototype.Lt=function(t){var n,i;t.fillStyle=null===(n=this.Zt)||void 0===n?void 0:n.cn(),t.fillRect(0,0,800,600),t.save(),t.rotate(this.Gt.rotation),t.scale(this.Gt.zoom,this.Gt.zoom),t.translate(this.Gt.offset.x-this.Gt.pan.x+this.Gt.shift,this.Gt.offset.y+this.Gt.pan.y),null===(i=this.Zt)||void 0===i||i.Lt(t),t.restore()},n.prototype.en=function(t){var n=this;this.Xt.close((function(){n.Zt=t,n.Xt.open()}))},n.prototype.an=function(){return this.Xt},n}(d),A=function(t,n,i,o,u,s){t.beginPath(),u&&(t.fillStyle=u),t.ellipse(n.x,n.y,i,o,0,0,2*Math.PI),t.fill(),s&&(t.strokeStyle=s,t.stroke())},T=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),g=function(t){function n(n,i,o,u){var s=t.call(this,n,i,o,u,u)||this;return s.vn=1,s.ln=1,s.color="#fff",s}return T(n,t),n.prototype.update=function(n,i){t.prototype.update.call(this,n,i),this.vn=e(this.vn,this.ln,.075)},n.prototype.dn=function(){return this.color},n.prototype.setColor=function(t){this.color=t},n.prototype.yn=function(t){this.s={x:t,y:t}},n.prototype.Lt=function(t){var n=t.globalCompositeOperation;t.globalCompositeOperation="source-over",A(t,this.v,this.s.x*Math.min(1.1,1/this.vn),this.s.y*this.vn,this.color),t.globalCompositeOperation=n},n.prototype.blink=function(t){var n=this;clearTimeout(this.Vt),this.ln=0,this.Vt=setTimeout((function(){return n.open()}),t)},n.prototype.open=function(){this.ln=1},n}(d),S=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),C=function(){return C=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++)for(var u in n=arguments[i])Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u]);return t},C.apply(this,arguments)},E={wn:"#BA2C73",pn:10,width:1,Mn:150,xn:200,mn:1.3,_n:1,bn:7,On:0,color:"#fff",jn:"#fff"},I=function(t){function n(n,i){var o=t.call(this,n,0,0,0,0)||this;return o.vn=0,o.ln=0,o.An=1,o.options=C({},E),o.Tn(i),o.blink(o.options.xn,o.options.Mn),o.left=new g(n,-30*o.options.width,5,o.options.pn),o.right=new g(n,30*o.options.width,5,o.options.pn),o}return S(n,t),n.prototype.gn=function(){return this.options},n.prototype.Tn=function(t){var n,i;this.options=C(C({},this.options),t),null===(n=this.left)||void 0===n||n.setColor(t.color),null===(i=this.right)||void 0===i||i.setColor(t.color)},n.prototype.blink=function(t,n){var i=this;this.options.Sn||(setTimeout((function(){return i.Cn(i.left,t,n)}),p(0,n)),setTimeout((function(){return i.Cn(i.right,t,n)}),p(0,n)),setTimeout((function(){return i.blink(t,n)}),p(1e3,4e3)))},n.prototype.Cn=function(t,n,i){this.options.Sn||(t.blink(n),p(0,i))},n.prototype.update=function(n,i){t.prototype.update.call(this,n,i),this.vn=e(this.vn,this.ln,.1),this.left.update(n,i),this.right.update(n,i),Math.random()<.002&&(this.An*=-1)},n.prototype.En=function(t){this.left.yn(t),this.right.yn(t)},n.prototype.In=function(t){this.left.setColor(t),this.right.setColor(t)},n.prototype.Dn=function(){return this.left.dn()},n.prototype.Lt=function(t,n){void 0===n&&(n=!0),A(t,{x:-65*this.options.width-this.options.On,y:20},15*this.options.mn,10*this.options.mn,this.options.wn),A(t,{x:65*this.options.width+this.options.On,y:20},15*this.options.mn,10*this.options.mn,this.options.wn),t.fillStyle="#000",this.left.Lt(t),this.right.Lt(t),t.lineCap="round",t.lineJoin="round",t.lineWidth=this.options.bn,t.strokeStyle=this.options.color,t.fillStyle=this.options.color,this.Fn&&n&&(t.beginPath(),t.moveTo(-50*this.options.width+10,-5),t.lineTo(-50*this.options.width-20,-20),t.stroke(),t.beginPath(),t.moveTo(50*this.options.width-10,-5),t.lineTo(50*this.options.width+20,-20),t.stroke()),t.save(),t.scale(this.An,1),t.beginPath(),t.strokeStyle=this.options.jn;var i=this.options.width*this.options._n,o=this.Fn?-30:0;if(this.options.kn){var u=30;t.save(),t.translate(0,5),t.lineWidth=.01*this.options.bn,t.beginPath(),t.moveTo(-40*i,u),t.quadraticCurveTo(-10,40+10*i,0,15),t.quadraticCurveTo(10,40+10*i,40*i,u),t.restore()}else{u=20;t.moveTo(-40*i,u),t.quadraticCurveTo(0,40-60*i*this.vn+o,40*i,20),t.quadraticCurveTo(0,40+60*i*this.vn+o,-40*i,u)}t.stroke(),t.fill(),t.restore()},n.prototype.Bn=function(t,n){var i=this;clearTimeout(this.Ln),this.ln=t,this.Ln=setTimeout((function(){return i.qn()}),1e3*n)},n.prototype.qn=function(){this.ln=0},n.prototype.setColor=function(t){this.options.color=t,this.left.setColor(t),this.right.setColor(t)},n.prototype.zn=function(t){this.options.wn=t},n}(d),D=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),F=function(t){function n(n,i,o){var u=t.call(this,n,i,o,0,0)||this;return u.kt=.003,u.face=new I(n,{width:.8,kn:!0}),u.d=100,u.Bt.gt(v),u.kt*=p(.8,1.2),u}return D(n,t),n.prototype.update=function(n,i){t.prototype.update.call(this,n,i),this.face.update(n,i)},n.prototype.Lt=function(t){var n=this;t.save(),t.translate(this.v.x,this.v.y),A(t,{x:0,y:1},17,5,"#00000055"),t.strokeStyle="#000",t.lineCap="round";var i,o=(i=Math.sin(this.Bt.time*Math.PI))*i;t.translate(0,-40*o);var u=function(i){t.lineWidth=2,t.beginPath(),t.moveTo(i,-10-6*n.Ft),t.quadraticCurveTo(1.3*i,-1,i,1),t.stroke()};u(10),u(-10),u(7),u(-7),t.lineWidth=20,t.beginPath(),t.translate(0,-10-3*this.Ft-5*o),t.moveTo(-5,0),t.lineTo(5,0),t.stroke(),t.translate(2*this.Dt,0),t.lineWidth=5,t.moveTo(0,0),t.quadraticCurveTo(25*-this.Dt,-5,12*-this.Dt,-25),t.stroke();var s=function(n){t.fillStyle="#000",t.beginPath(),t.moveTo(7*n,-15),t.lineTo(5*n-5,0),t.lineTo(5*n+5,0),t.fill()};s(-1),s(1),t.translate(0,-2-this.Ft-3*o),t.scale(.13,.13),this.face.Lt(t,!1),t.restore()},n.prototype.Hn=function(t){this.Bt.move(t,.4)},n}(d),k=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),B=function(t,n,i){if(i||2===arguments.length)for(var o,u=0,s=n.length;u<s;u++)!o&&u in n||(o||(o=Array.prototype.slice.call(n,0,u)),o[u]=n[u]);return t.concat(o||Array.prototype.slice.call(n))},L=function(t){function n(n,i,o,u){var s;void 0===i&&(i=0),void 0===o&&(o=0),void 0===u&&(u=[]);var r=t.call(this,n,i,o,0,0)||this;return r.children=[],(s=r.children).push.apply(s,u),r}return k(n,t),n.prototype.cn=function(){return"#ccc"},n.prototype.update=function(n,i){t.prototype.update.call(this,n,i),this.children.forEach((function(t){return t.update(n,i)})),this.children.some((function(t){return t.Nn}))&&(this.children=this.children.filter((function(t){return!t.Nn})))},n.prototype.hide=function(t){void 0===t&&(t=.3),this.Bt.scale({x:0,y:0},t)},n.prototype.show=function(t){void 0===t&&(t=.3),this.Bt.scale({x:1,y:1},t)},n.prototype.Lt=function(t){t.save(),B([],this.children,!0).sort((function(t,n){return t.d-n.d})).forEach((function(n){return n.Lt(t)})),t.restore()},n.prototype.Rn=function(t){return this.children[t]},n.prototype.Un=function(){return this.children},n.prototype.add=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];(t=this.children).push.apply(t,n)},n.prototype.clear=function(){this.children=[]},n.prototype.$t=function(){return[]},n}(d),q="Arial Black,HelveticaNeue-CondensedBlack,arial,sans-serif",z=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),H=function(t){function n(n,i,o,u,s,r,h){var f=t.call(this,n,i,o,u,s)||this;return f.Vn=r,f.Pn=h,f.ratio=1,f.start=-1,f}return z(n,t),n.prototype.update=function(t,n){this.Nn||this.Vn<0||(this.v={x:this.v.x+this.Pn.x,y:this.v.y+this.Pn.y},this.ratio=1-(t-this.start)/(1e3*this.Vn),this.start<0&&(this.start=t),t-this.start>1e3*this.Vn&&(this.Nn=!0))},n}(d),N=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),R=function(t){function n(n,i,o,u,s,r,h,f){var c=t.call(this,n,u,s,0,0,r,h)||this;return c.content=i,c.fontSize=o,c.options=f,c}return N(n,t),n.prototype.Lt=function(t){var n,i,o,u,s,r,h,f;t.save(),t.rotate(null!==(i=null===(n=this.options)||void 0===n?void 0:n.angle)&&void 0!==i?i:0);var c=(null===(o=this.options)||void 0===o?void 0:o.Wn)?this.ratio:1;t.font="".concat(this.fontSize*c,"px ").concat(q),t.textAlign=null!==(s=null===(u=this.options)||void 0===u?void 0:u.align)&&void 0!==s?s:"center",(null===(r=this.options)||void 0===r?void 0:r.Gn)&&(t.fillStyle="#000",t.fillText(this.content,this.v.x+this.options.Gn,this.v.y+this.options.Gn)),t.fillStyle=null!==(f=null===(h=this.options)||void 0===h?void 0:h.color)&&void 0!==f?f:"#fff",t.fillText(this.content,this.v.x,this.v.y),t.restore()},n.prototype.Jn=function(t){var n,i=(null===(n=this.options)||void 0===n?void 0:n.Wn)?this.ratio:1;return t.font="".concat(this.fontSize*i,"px ").concat(q),Math.max.apply(Math,this.content.split("\n").map((function(n){return t.measureText(n).width})))},n}(H),U=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),V=function(t){function n(n,i,o,u,s,r,h,f){var c=t.call(this,n,i,o,u,s,-1,a,f)||this;return c.frequency=r,c.amplitude=h,c.time=0,c.Kn=[],c.Qn=!1,c.font=q,c.scale={x:1,y:1},c}return U(n,t),n.prototype.update=function(n,i){t.prototype.update.call(this,n,i),this.Bt.update(n),this.time=n},n.prototype.toggle=function(t){var n=this;clearTimeout(this.Vt),this.Vt=setTimeout((function(){n.content=t,n.Xn(n.Qn)}),t?0:200);var i=t?1:0;this.Bt.scale({x:i,y:i},.2)},n.prototype.Lt=function(t){var n,i,o,u,s,r,h,f,e,a,v,l=this;t.save(),t.rotate(null!==(i=null===(n=this.options)||void 0===n?void 0:n.angle)&&void 0!==i?i:0),this.ratio=c(this.scale.x);var d=(null===(o=this.options)||void 0===o?void 0:o.Wn)?this.ratio:1;t.textAlign="left",t.font="".concat(this.fontSize*d,"px ").concat(q);var y=null!==(s=null===(u=this.options)||void 0===u?void 0:u.spacing)&&void 0!==s?s:0,w=this.Jn(t);this.width=w,t.lineJoin="round";var p=!1;(null===(r=this.options)||void 0===r?void 0:r.background)&&(t.fillStyle=this.options.background,t.beginPath(),t.rect(this.v.x-.5*w-15,this.v.y-30,w+30,47),t.fill(),(null===(h=this.options)||void 0===h?void 0:h.border)&&(t.strokeStyle=this.options.border,t.lineWidth=null!==(f=this.options.borderWidth)&&void 0!==f?f:1,t.stroke()));var M=("center"!==(null===(e=this.options)||void 0===e?void 0:e.align)&&(null===(a=this.options)||void 0===a?void 0:a.align)?0:.5*-w)-this.content.replace(/\|/g,"").length*y*.5;"right"==(null===(v=this.options)||void 0===v?void 0:v.align)&&(M=-w);var x=0;t.translate(this.v.x+M,this.v.y),this.content.split("").forEach((function(n){var i,o,u,s,r,h,f,c;if("|"!==n){var e=null!==(o=null===(i=l.Kn[x])||void 0===i?void 0:i.x)&&void 0!==o?o:1,a=null!==(s=null===(u=l.Kn[x])||void 0===u?void 0:u.y)&&void 0!==s?s:1,v=t.measureText(n),d=v.width,w=v.actualBoundingBoxAscent+.5*v.actualBoundingBoxDescent;t.save(),t.translate(.5*d,.5*-w),t.scale(e,a),t.translate(.5*-d,.5*w),(null===(r=l.options)||void 0===r?void 0:r.Gn)&&(t.fillStyle="#000",t.fillText(n,y*x*e+l.options.Gn*e,l.options.Gn*a+Math.sin(.005*l.time+x*l.frequency)*l.amplitude*a)),t.fillStyle=p?"#f2e949":null!==(f=null===(h=l.options)||void 0===h?void 0:h.color)&&void 0!==f?f:"#fff",(null===(c=l.options)||void 0===c?void 0:c.outline)&&(t.strokeStyle="#000",t.lineWidth=l.options.outline*l.ratio,t.strokeText(n,y*x*e,Math.sin(.005*l.time+x*l.frequency)*l.amplitude*a)),t.fillText(n,y*x*e,Math.sin(.005*l.time+x*l.frequency)*l.amplitude*a),t.restore(),t.translate(d,0),x++}else p=!p})),t.restore()},n.prototype.Yn=function(t){this.font=t},n.prototype.Xn=function(t){void 0===t&&(t=!0),this.Qn=t,this.Kn=t?this.content.replace(/\|/g,"").split("").map((function(){return{x:x(),y:x()}})):[]},n.prototype.Zn=function(){return this.width},n.prototype.Jn=function(t){var n,i=(null===(n=this.options)||void 0===n?void 0:n.Wn)?this.ratio:1;return t.font="".concat(this.fontSize*i,"px ").concat(this.font),Math.max.apply(Math,this.content.split("\n").map((function(n){return t.measureText(n.replace(/\|/g,"")).width})))},n.prototype.yn=function(t,n){this.fontSize=t,this.options.Gn=n},n}(R),P=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),W=40,G=function(t){function n(n,i){var o=this,u=i%Y,s=Math.floor(i/Y);return(o=t.call(this,n,50+46*u,45+46*s,W,W)||this).value=u-1+3*(s-2),(u<2||u>4||s<2||s>4)&&(o.value=1,o.hidden=!0),o}return P(n,t),n.prototype.$n=function(){return this.ti?"?":"".concat(this.value)},n.prototype.ni=function(){this.hidden=!1,this.scale={x:0,y:0},this.Bt.scale({x:1,y:1},.3)},n.prototype.ii=function(t){return n=this.v,i=t.v,o=Math.abs(n.x-i.x),u=Math.abs(n.y-i.y),Math.sqrt(o*o+u*u)<60;var n,i,o,u},n.prototype.update=function(n,i){this.oi=this.zt(i,1),t.prototype.update.call(this,n,i)},n.prototype.Lt=function(t){if(!this.hidden){t.save(),t.fillStyle=this.oi?"yellow":"#fff",this.ui&&(t.fillStyle="orange");var n=this.oi?"red":"#191D32";t.strokeStyle=n,t.beginPath(),t.lineWidth=7,t.translate(this.v.x,this.v.y),t.translate(.5*this.s.x,.5*this.s.y),t.scale(this.scale.x,this.scale.y),t.translate(.5*-this.s.x,.5*-this.s.y),t.rect(0,0,this.s.x,this.s.y),t.stroke(),t.fill(),t.fillStyle=n,t.textAlign="center",t.textBaseline="middle",t.font="20px ".concat(q),t.fillText(this.value.toString(),this.s.x/2,this.s.y/2),t.restore()}},n}(d),J=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),K=function(t){function n(n,i,o){var u=t.call(this,n,i,30,o.x+20,o.y+10,p(.7,.9),{x:0,y:p(-.5,-.7)},{Gn:3,Wn:!0})||this;return u.d=200,u}return J(n,t),n.prototype.update=function(n,i){t.prototype.update.call(this,n,i),this.ratio=Math.sin(this.ratio/2*Math.PI)},n}(R),Q=function(){var t=function(n,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},t(n,i)};return function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=n}t(n,i),n.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),X=function(t,n,i){if(i||2===arguments.length)for(var o,u=0,s=n.length;u<s;u++)!o&&u in n||(o||(o=Array.prototype.slice.call(n,0,u)),o[u]=n[u]);return t.concat(o||Array.prototype.slice.call(n))},Y=7,Z=function(t){function n(n){var i=t.call(this,n)||this;return i.si=[],i.level=0,i.ri=[],i.hi=Array.from(Array(Y*Y)).map((function(t,i){return new G(n,i)})),i.fi=new R(n,"",50,500,220,-1,a,{Gn:5}),i.ci=new V(n,"",25,400,30,.5,3,{Gn:3}),i.add.apply(i,X(X([],i.hi,!1),[i.fi,i.ci],!1)),i.ei(),i}return Q(n,t),n.prototype.update=function(n,i){var o=this;if(t.prototype.update.call(this,n,i),this.Ct.canvas.style.cursor=this.hi.some((function(t){return!t.hidden&&t.oi}))?"pointer":"default",i.fn&&!this.locked){var u=this.hi.find((function(t){return t.oi}));if(u&&!u.hidden&&(0===this.si.length||this.si.some((function(t){return t.ii(u)})))){u.ui=!u.ui,this.toggle(u);var s=this.si.reduce((function(t,n){return t+n.value}),0),r=this.si.some((function(t){return t.ti}))?"???":"".concat(s);this.ci.content=this.si.length>1?"".concat(this.si.map((function(t){return t.$n()})).join("+"),"=").concat(r):"",s>=this.target&&(this.ci.content=this.si.length>1?"".concat(this.si.map((function(t){return t.value})).join("+"),"=").concat(s):"",console.log("DONE, DIFF: ".concat(s-this.target)),this.si.sort((function(t,n){return t.value-n.value})).forEach((function(t,n){setTimeout((function(){var n=t.value*o.si.length*(t.ti?2:1);o.add(new K(o.Ct,n.toString(),t.v)),t.ti&&(o.ai(t.ti),t.ti=null)}),75*n)})),setTimeout((function(){o.hi.filter((function(t){return t.hidden&&o.si.some((function(n){return n.ii(t)}))})).forEach((function(t){return t.ni()})),o.si.forEach((function(t){t.ui=!1,t.value++})),o.si=[],o.ei(),o.ci.content="",o.vi()}),1e3))}}},n.prototype.ei=function(){this.level++,this.target=this.li(this.level+1),this.fi.content=this.target.toString()},n.prototype.li=function(t){for(var n=[M(this.hi.filter((function(t){return!t.hidden})))],i=0;i<Math.min(t,Math.floor(this.hi.filter((function(t){return!t.hidden})).length/2))-1;i++)n.push(M(this.hi.filter((function(t){return!t.hidden&&!n.includes(t)&&n.some((function(n){return n.ii(t)}))}))));return n.reduce((function(t,n){return t+n.value}),0)},n.prototype.toggle=function(t){this.si.includes(t)?this.si=this.si.filter((function(n){return n!==t})):this.si.push(t)},n.prototype.vi=function(){var t=this;if(this.hi.some((function(t){return!t.hidden&&!t.ti}))){var n=new F(this.Ct,900,320);this.ri.push(n),this.add(n),n.Hn({x:700,y:320}),setTimeout((function(){return n.Hn({x:500,y:300})}),1e3),setTimeout((function(){return n.Hn({x:400,y:220})}),1700),setTimeout((function(){return t.ai(n)}),2600)}},n.prototype.ai=function(t){var n=M(this.hi.filter((function(t){return!t.hidden&&!t.ti})));n&&(n.ti=t,t.Hn(function(t,n,i){return{x:t.x+n,y:t.y+i}}(n.qt(),0,5)))},n.prototype.Lt=function(n){n.save(),n.fillStyle="#453A49",n.fillRect(0,0,n.canvas.width,n.canvas.height),t.prototype.Lt.call(this,n),n.restore()},n}(L),$=1600,tt=800,nt=document.createElement("canvas"),it=nt.getContext("2d"),ot={x:0,y:0},ut=new f(!1,!1,!1);ut.q(),ut.tt();var st=new j(ut,nt);st.Zt=new Z(st),nt.id="game",nt.width=$,nt.height=tt,document.body.appendChild(nt);var rt=1,ht=0,ft=0,ct=function(){rt=Math.min(window.innerWidth/$,window.innerHeight/tt),nt.style.transformOrigin="top left",ht=.5*(window.innerWidth-$*rt),ft=.5*(window.innerHeight-tt*rt),nt.style.transform="translate(".concat(ht,"px,").concat(ft,"px) scale(").concat(rt,")")};ct(),window.onresize=ct;var et=!1;document.onfullscreenchange=function(){return et=!et},document.onmousemove=function(t){ot.x=(et?(t.offsetX-ht)/rt:t.offsetX)/2,ot.y=(et?(t.offsetY-ft)/rt:t.offsetY)/2},window.onkeydown=function(t){ut.tt(),st.pressed(t)},window.onkeyup=function(t){st.sn(t)},document.oncontextmenu=function(t){t.preventDefault()},document.onmousedown=function(t){ut.tt(),ot.fn=!0,ot.di=!0,st.click(ot,2===t.button)},document.onmouseup=function(){return ot.di=!1};var at=function(t){requestAnimationFrame(at),it.resetTransform(),st.update(t,ot),it.scale(2,2),st.Lt(it)};requestAnimationFrame(at)})();